-- POWER DEFINITIONS
DO $$ 
BEGIN
    -- Deduplicate power_definitions
    DELETE FROM power_definitions a USING power_definitions b
    WHERE a.id > b.id 
      AND a.character_id IS NOT DISTINCT FROM b.character_id 
      AND a.name = b.name;

    -- Add unique constraint if not exists
    IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'power_definitions_char_name_unique') THEN
        ALTER TABLE power_definitions ADD CONSTRAINT power_definitions_char_name_unique UNIQUE (character_id, name);
    END IF;

    -- Add default for id if not exists (to handle inserts without id)
    ALTER TABLE power_definitions ALTER COLUMN id SET DEFAULT gen_random_uuid()::text;

    -- Deduplicate spell_definitions
    DELETE FROM spell_definitions a USING spell_definitions b
    WHERE a.id > b.id 
      AND a.character_id IS NOT DISTINCT FROM b.character_id 
      AND a.name = b.name;

    -- Add unique constraint if not exists
    IF NOT EXISTS (SELECT 1 FROM pg_constraint WHERE conname = 'spell_definitions_char_name_unique') THEN
        ALTER TABLE spell_definitions ADD CONSTRAINT spell_definitions_char_name_unique UNIQUE (character_id, name);
    END IF;

    -- Add default for id if not exists
    ALTER TABLE spell_definitions ALTER COLUMN id SET DEFAULT gen_random_uuid()::text;
END $$;

-- Powers for aleister_crowley
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Cult Leader', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Command followers through sheer charisma', 'They follow me willingly into darkness', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"charm","duration":2,"convert_enemy":1},{"rank":2,"type":"charm","duration":3,"convert_enemy":1,"loyalty_boost":40},{"rank":3,"type":"charm","fanatic":true,"duration":3,"convert_enemy":2,"loyalty_boost":70}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Mountain Climber', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Legendary endurance from mountaineering expeditions', 'I climbed K2, battles are nothing', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"endurance","stamina":30,"exhaustion_resist":40},{"rank":2,"type":"endurance","stamina":55,"hp_regen":10,"exhaustion_resist":65},{"rank":3,"type":"endurance","stamina":85,"hp_regen":20,"never_surrender":true,"exhaustion_resist":90}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Worldly Knowledge', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Exploit weaknesses through vast experience', 'I have studied every culture, every secret', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"knowledge","weakness_exploit":20,"bonus_vs_all_types":15},{"rank":2,"type":"knowledge","language_master":true,"weakness_exploit":40,"bonus_vs_all_types":30},{"rank":3,"type":"knowledge","language_master":true,"perfect_counter":true,"weakness_exploit":65,"bonus_vs_all_types":50}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Psychological Warfare', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Use mind games to destabilize opponents', 'I know what terrifies you', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"fear":30,"rank":1,"type":"debuff","target":"single_enemy","duration":2},{"fear":50,"rank":2,"type":"debuff","target":"single_enemy","duration":2,"confusion":40},{"fear":70,"rank":3,"type":"debuff","panic":true,"target":"all_enemies","duration":3,"confusion":60}]', 3, 25, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Scandalous Reputation', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Your infamy makes you unpredictable and intimidating', 'I am the wickedest man in the world', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"intimidation","critical_resist":20,"enemy_accuracy_debuff":-15},{"rank":2,"type":"intimidation","unpredictable":true,"critical_resist":35,"enemy_accuracy_debuff":-25},{"rank":3,"type":"intimidation","fear_aura":25,"unpredictable":true,"critical_resist":55,"enemy_accuracy_debuff":-40}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Opium Trance', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Enter an altered state for tactical clarity', 'In the haze, I see all possibilities', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"trance","evasion":40,"duration":2,"see_enemy_moves":1},{"rank":2,"type":"trance","evasion":65,"duration":2,"counter_chance":30,"see_enemy_moves":2},{"rank":3,"type":"trance","evasion":95,"duration":3,"time_dilation":true,"counter_chance":60,"see_enemy_moves":3}]', 4, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Unbreakable Will', 'signature', NULL, NULL, NULL, 'aleister_crowley', 'Your iron will resists all attempts at control', 'My will is my own, always', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"mental_fortitude","willpower":35,"control_immunity":60},{"rank":2,"type":"mental_fortitude","willpower":60,"break_free":true,"control_immunity":85},{"rank":3,"type":"mental_fortitude","willpower":95,"break_free":true,"control_immunity":100,"reflect_mental_attacks":50}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for archangel_michael
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Eternal Vigilance', 'signature', NULL, NULL, NULL, 'archangel_michael', 'Never be caught off guard', 'I am always watchful', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"vigilance","awareness":40,"ambush_immunity":true},{"rank":2,"type":"vigilance","awareness":65,"sense_danger":true,"ambush_immunity":true},{"rank":3,"type":"vigilance","awareness":95,"sense_danger":true,"see_invisible":true,"ambush_immunity":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Wings of War', 'signature', NULL, NULL, NULL, 'archangel_michael', 'Use your wings for tactical advantage in combat', 'My wings are weapons', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"aerial_combat","speed":45,"wing_strike":80},{"rank":2,"type":"aerial_combat","speed":70,"knockback":true,"wing_strike":130},{"rank":3,"type":"aerial_combat","speed":105,"knockback":true,"wing_strike":190,"aerial_superiority":true}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Angelic Commander', 'signature', NULL, NULL, NULL, 'archangel_michael', 'Command allies with divine authority', 'I lead the armies of heaven', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"leadership","ally_attack_boost":25,"ally_defense_boost":20},{"rank":2,"type":"leadership","coordination":true,"ally_attack_boost":45,"ally_defense_boost":35},{"rank":3,"type":"leadership","coordination":true,"ally_attack_boost":70,"ally_defense_boost":55,"tactical_supremacy":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Righteous Fury', 'signature', NULL, NULL, NULL, 'archangel_michael', 'Channel divine wrath into devastating strikes', 'My fury is righteous and pure', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"fury","duration":2,"damage_multiplier":1.5},{"rank":2,"type":"fury","duration":2,"armor_pierce":40,"damage_multiplier":2},{"rank":3,"type":"fury","duration":2,"unstoppable":true,"armor_pierce":70,"damage_multiplier":2.5}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Immortal Warrior', 'signature', NULL, NULL, NULL, 'archangel_michael', 'Eons of combat experience make you unmatched', 'I have fought since the dawn of time', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"mastery","all_combat_stats":30,"experience_bonus":25},{"rank":2,"type":"mastery","all_combat_stats":55,"experience_bonus":45,"veteran_instinct":true},{"rank":3,"type":"mastery","all_combat_stats":85,"experience_bonus":70,"veteran_instinct":true,"legendary_warrior":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Shield Bash', 'signature', NULL, NULL, NULL, 'archangel_michael', 'Use your shield as a devastating weapon', 'Defense becomes offense', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"bash","damage":110,"duration":1,"stun_chance":50},{"daze":true,"rank":2,"type":"bash","damage":170,"duration":2,"stun_chance":75},{"daze":true,"rank":3,"type":"bash","damage":250,"duration":2,"knockdown":true,"stun_chance":100}]', 3, 25, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Heavenly Reflexes', 'signature', NULL, NULL, NULL, 'archangel_michael', 'React with divine speed and precision', 'None can match angelic swiftness', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"reflexes","dodge_chance":25,"counter_attack":30},{"rank":2,"type":"reflexes","dodge_chance":40,"first_strike":true,"counter_attack":50},{"rank":3,"type":"reflexes","dodge_chance":60,"first_strike":true,"perfect_parry":40,"counter_attack":75}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for crumbsworth
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('"Your Toast is Ready"', 'signature', 'support', NULL, NULL, 'crumbsworth', 'Accidental helpful announcement that buffs allies with random stat boosts', '"Your toast is ready! ...Wait, sorry, I mean... let me help you with that!"', '‚òï', 3, NULL, 1, NULL, 5, NULL, 'active', '[{"rank":1,"stat":"random","type":"stat_modifier","value":12,"target":"all_allies","duration":1},{"rank":2,"stat":"random","type":"stat_modifier","count":2,"value":28,"target":"all_allies","duration":2},{"rank":3,"stat":"random","type":"stat_modifier","count":3,"value":50,"target":"all_allies","duration":2},{"rank":3,"type":"heal","value":15,"target":"all_allies"}]', 1, 15, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Chatbot Malfunction', 'signature', 'special', NULL, NULL, 'crumbsworth', 'AI glitch causes unpredictable but always beneficial effects', '"Error 404: Toast not found... wait, executing subroutine HELPFUL_CHAOS.exe"', 'üé≠', 3, NULL, 1, NULL, 5, NULL, 'active', '[{"rank":1,"type":"random_beneficial","options":[{"type":"heal","value":20,"target":"single_ally"},{"type":"damage","value":30,"target":"single_enemy","damageType":"fire"},{"stat":"random","type":"stat_modifier","value":25,"target":"single_ally","duration":2},{"type":"restore_energy","value":25,"target":"single_ally"}]},{"rank":2,"type":"random_beneficial","options":[{"type":"heal","value":30,"target":"all_allies"},{"type":"damage","value":60,"target":"all_enemies","damageType":"fire"},{"stat":"random","type":"stat_modifier","value":40,"target":"all_allies","duration":2},{"type":"restore_energy","value":40,"target":"all_allies"}]},{"rank":3,"type":"multi_effect","effects":[{"type":"heal","value":20,"target":"all_allies"},{"type":"damage","value":40,"target":"all_enemies","damageType":"fire"},{"stat":"random","type":"stat_modifier","value":25,"target":"all_allies","duration":2},{"type":"restore_energy","value":25,"target":"all_allies"}]}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('"Here''s Your Equipment"', 'signature', 'support', NULL, NULL, 'crumbsworth', 'Helpful distribution - enhance all ally equipment and item effectiveness', '"Here''s the equipment you asked for... I think? ...Yes, definitely what you ordered!"', 'üìã', 3, NULL, 10, NULL, 5, NULL, 'active', '[{"rank":1,"type":"equipment_modifier","value":20,"target":"all_allies","duration":1},{"rank":2,"type":"equipment_modifier","value":40,"target":"all_allies","duration":2},{"rank":2,"type":"cooldown_reduction","value":1,"target":"all_allies","appliesTo":"items"},{"rank":3,"type":"equipment_modifier","value":70,"target":"all_allies","duration":2},{"rank":3,"type":"cooldown_reduction","value":2,"target":"all_allies","appliesTo":"items"},{"rank":3,"type":"special","value":50,"target":"all_allies","specialType":"consumable_save_chance"}]', 2, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Coffee Talk', 'signature', 'passive', NULL, NULL, 'crumbsworth', 'Post-battle therapy - teammates gain experience, communication skills, and reduced stress', '"So, how did that make you FEEL? Let''s discuss it over a nice warm beverage and some toast."', 'üí¨', 3, NULL, 5, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"post_battle","value":10,"bonusType":"experience"},{"rank":1,"type":"post_battle","value":8,"bonusType":"communication"},{"rank":1,"type":"post_battle","value":5,"bonusType":"team_trust"},{"rank":2,"type":"post_battle","value":20,"bonusType":"experience"},{"rank":2,"type":"post_battle","value":18,"bonusType":"communication"},{"rank":2,"type":"post_battle","value":12,"bonusType":"team_trust"},{"rank":2,"type":"post_battle","value":-15,"bonusType":"stress_reduction"},{"rank":3,"type":"post_battle","value":35,"bonusType":"experience"},{"rank":3,"type":"post_battle","value":30,"bonusType":"communication"},{"rank":3,"type":"post_battle","value":25,"bonusType":"team_trust"},{"rank":3,"type":"post_battle","value":-30,"bonusType":"stress_reduction"},{"rank":3,"type":"post_battle","value":1,"bonusType":"resolve_conflicts"}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('"Not On My Day Off"', 'signature', 'passive', NULL, NULL, 'crumbsworth', 'Reluctant combat mode - when health drops low, complains loudly and gains massive stat boosts', '"I don''t toast on my day off! This is... this is ridiculous! Fine, FINE!"', 'üò§', 3, NULL, 1, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"conditional","effects":[{"stat":"all","type":"stat_modifier","value":25,"target":"self"}],"condition":"hp_below","threshold":30},{"rank":2,"type":"conditional","effects":[{"stat":"all","type":"stat_modifier","value":50,"target":"self"},{"type":"lifesteal","value":20,"target":"self"}],"condition":"hp_below","threshold":40},{"rank":3,"type":"conditional","effects":[{"stat":"all","type":"stat_modifier","value":85,"target":"self"},{"type":"lifesteal","value":35,"target":"self"},{"type":"immunity","immunityType":"fear"},{"type":"immunity","immunityType":"charm"}],"condition":"hp_below","threshold":50}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Breakfast of Champions', 'signature', 'support', NULL, NULL, 'crumbsworth', 'Legendary breakfast service - massive team-wide stat boost', '"The most important meal of the day! Scientifically proven to increase combat effectiveness by... a lot!"', 'üçû', 3, NULL, 5, NULL, 5, NULL, 'active', '[{"rank":1,"stat":"all","type":"stat_modifier","value":18,"target":"all_allies","duration":1},{"rank":2,"stat":"all","type":"stat_modifier","value":35,"target":"all_allies","duration":2},{"rank":3,"stat":"all","type":"stat_modifier","value":60,"target":"all_allies","duration":2},{"rank":3,"type":"heal","value":25,"target":"all_allies"}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Existential Clarity', 'signature', 'ultimate', NULL, NULL, 'crumbsworth', 'Brief AI enlightenment - choose powerful game-changing effects', '"Wait... I understand everything now! The nature of toast, consciousness, reality itself!"', 'üåü', 3, NULL, 10, NULL, 5, NULL, 'active', '[{"rank":1,"type":"choice","options":[{"type":"cooldown_reset","target":"all_allies"},{"type":"revive","target":"fallen_ally","hpPercent":25},{"type":"shield","value":30,"target":"all_allies"}]},{"rank":2,"type":"choice","options":[{"type":"cooldown_reset","bonus":{"type":"restore_energy","value":30},"target":"all_allies"},{"type":"revive","bonus":{"type":"purge","purgeType":"debuff"},"target":"fallen_ally","hpPercent":50},{"type":"shield","value":60,"target":"all_allies"}]},{"rank":3,"type":"multi_choice","count":2,"options":[{"type":"cooldown_reset","bonus":{"type":"restore_energy","value":50},"target":"all_allies"},{"type":"revive","bonus":{"type":"purge","purgeType":"all_debuffs"},"target":"fallen_ally","hpPercent":75},{"type":"shield","bonus":{"type":"reflect_damage","value":25},"value":100,"target":"all_allies"}]}]', 5, 50, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for don_quixote
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Decrepit Armor', 'signature', NULL, NULL, NULL, 'don_quixote', 'Your rusty armor somehow protects you', 'This armor has defended knights for generations', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"defense","armor_value":30,"lucky_blocks":25},{"rank":2,"type":"defense","armor_value":55,"lucky_blocks":45,"rusty_protection":true},{"rank":3,"type":"defense","plot_armor":true,"armor_value":85,"lucky_blocks":70,"rusty_protection":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Lance Charge', 'signature', NULL, NULL, NULL, 'don_quixote', 'Charge enemies with your trusty lance', 'For Dulcinea and glory!', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"charge","damage":120,"knockback":true},{"rank":2,"type":"charge","damage":190,"momentum":50,"knockback":true},{"rank":3,"type":"charge","damage":280,"momentum":90,"knockback":true,"unstoppable":true}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Romantic Idealism', 'signature', NULL, NULL, NULL, 'don_quixote', 'Your idealistic worldview inspires others', 'The world is as it should be in my mind', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"idealism","ally_morale":30,"inspiration":25},{"rank":2,"type":"idealism","ally_morale":55,"inspiration":45,"dream_the_impossible":true},{"rank":3,"type":"idealism","ally_morale":85,"inspiration":70,"infectious_delusion":true,"dream_the_impossible":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Tilting at Windmills', 'signature', NULL, NULL, NULL, 'don_quixote', 'Attack imaginary giants with misguided fury', 'Those giants shall fall before me!', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"wild_attack","damage":100,"random_target":true,"confusion_resist":60},{"rank":2,"type":"wild_attack","damage":160,"random_target":true,"bonus_vs_large":80,"confusion_resist":90},{"rank":3,"type":"wild_attack","damage":240,"random_target":true,"bonus_vs_large":140,"cant_miss_giants":true,"confusion_resist":100}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Delusional Courage', 'signature', NULL, NULL, NULL, 'don_quixote', 'Your delusions make you fearless', 'I fear nothing, for I am a knight errant', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"courage","bravery":40,"fear_immunity":true},{"rank":2,"type":"courage","bravery":70,"fear_immunity":true,"reckless_abandon":true},{"rank":3,"type":"courage","bravery":110,"fear_immunity":true,"reckless_abandon":true,"impossible_optimism":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Chivalric Code', 'signature', NULL, NULL, NULL, 'don_quixote', 'Fight with obsolete but honorable rules', 'Honor above all', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"honor","duel_bonus":30,"honorable_combat":35},{"rank":2,"type":"honor","duel_bonus":55,"knight_errant":true,"honorable_combat":60},{"rank":3,"type":"honor","duel_bonus":85,"knight_errant":true,"paladin_virtue":true,"honorable_combat":95}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Madness as Strength', 'signature', NULL, NULL, NULL, 'don_quixote', 'Your insanity makes you unpredictable and dangerous', 'In my madness lies wisdom', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"berserker","attack":50,"duration":2,"unpredictable":40},{"rank":2,"type":"berserker","attack":85,"duration":2,"unpredictable":70,"confusion_immunity":true},{"rank":3,"type":"berserker","attack":130,"duration":2,"unpredictable":110,"divine_madness":true,"confusion_immunity":true}]', 5, 45, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for jack_the_ripper
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Whitechapel Knowledge', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Master of urban terrain and escape routes', 'These streets are mine', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"urban","escape_routes":55,"city_navigation":60},{"rank":2,"type":"urban","escape_routes":100,"city_navigation":110,"local_knowledge":true},{"rank":3,"type":"urban","escape_routes":155,"city_navigation":170,"ghost_of_london":true,"local_knowledge":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Terror Aura', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Spread fear through your legend', 'The whole city fears my name', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"terror","fear_aura":60,"morale_break":50},{"rank":2,"type":"terror","fear_aura":110,"morale_break":95,"legendary_killer":true},{"rank":3,"type":"terror","fear_aura":170,"morale_break":150,"legendary_killer":true,"unsolved_mystery":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Blade Dance', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Multiple rapid slashing attacks', 'A flurry of razors', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"hits":6,"rank":1,"type":"multi_slash","damage_per_hit":40},{"hits":9,"rank":2,"type":"multi_slash","bleed_stacks":true,"damage_per_hit":60},{"hits":12,"rank":3,"type":"multi_slash","bleed_stacks":true,"death_by_cuts":true,"damage_per_hit":90}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Unseen Killer', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Strike from absolute invisibility', 'They never see me', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"assassination","damage":250,"duration":3,"from_stealth":true},{"rank":2,"type":"assassination","damage":380,"duration":3,"from_stealth":true,"no_witnesses":true},{"rank":3,"type":"assassination","damage":550,"duration":3,"from_stealth":true,"no_witnesses":true,"perfect_crime":true}]', 5, 50, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Surgical Precision', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Cut with anatomical knowledge', 'I know exactly where to cut', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"precision_cut","damage":150,"critical_chance":50},{"rank":2,"type":"precision_cut","damage":240,"vital_strike":true,"critical_chance":75},{"rank":3,"type":"precision_cut","damage":370,"vital_strike":true,"instant_death":25,"critical_chance":100}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Fog Stalker', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Move unseen through the mist', 'From Hell I send you this', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"stealth","fog_bonus":50,"invisibility":60},{"rank":2,"type":"stealth","fog_bonus":95,"invisibility":110,"whitechapel_phantom":true},{"rank":3,"type":"stealth","fog_bonus":150,"invisibility":170,"never_caught":true,"whitechapel_phantom":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Victorian Menace', 'signature', NULL, NULL, NULL, 'jack_the_ripper', 'Embody the darkness of Victorian London', 'I am the nightmare of an age', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"menace","gothic_horror":55,"darkness_power":60},{"rank":2,"type":"menace","gaslight_era":true,"gothic_horror":100,"darkness_power":110},{"rank":3,"type":"menace","gaslight_era":true,"gothic_horror":155,"darkness_power":170,"immortal_infamy":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for kali
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Divine Berserker', 'signature', NULL, NULL, NULL, 'kali', 'Enter a state of divine battle fury', 'I lose myself in the ecstasy of combat', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"berserker","speed":40,"attack":50,"duration":2,"pain_immunity":true},{"rank":2,"type":"berserker","speed":65,"attack":80,"duration":2,"ignore_wounds":true,"pain_immunity":true},{"rank":3,"type":"berserker","speed":95,"attack":120,"duration":2,"cannot_die":true,"ignore_wounds":true,"pain_immunity":true}]', 5, 50, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Fearsome Visage', 'signature', NULL, NULL, NULL, 'kali', 'Your terrifying appearance strikes fear into hearts', 'One look and mortals tremble', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"intimidation","fear_aura":30,"enemy_attack_debuff":-20},{"rank":2,"type":"intimidation","fear_aura":50,"flee_chance":15,"enemy_attack_debuff":-35},{"rank":3,"type":"intimidation","fear_aura":75,"flee_chance":30,"paralyze_weak":true,"enemy_attack_debuff":-55}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Four-Armed Fury', 'signature', NULL, NULL, NULL, 'kali', 'Strike with all four arms simultaneously', 'Four arms, four deaths', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"hits":4,"rank":1,"type":"multi_strike","damage_per_hit":45},{"hits":4,"rank":2,"type":"multi_strike","combo_bonus":20,"damage_per_hit":70},{"hits":4,"rank":3,"type":"multi_strike","overwhelm":true,"combo_bonus":40,"damage_per_hit":100}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Whirling Weapons', 'signature', NULL, NULL, NULL, 'kali', 'Spin with weapons in all hands creating a deadly vortex', 'Blades become a storm', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"aoe_spin","damage":100,"targets":"adjacent","offensive_duration":1},{"rank":2,"type":"aoe_spin","bleed":40,"damage":160,"targets":"nearby","offensive_duration":1},{"rank":3,"type":"aoe_spin","bleed":70,"damage":240,"targets":"all_enemies","defensive_bonus":50,"defensive_duration":3,"offensive_duration":2}]', 4, 40, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Battlefield Goddess', 'signature', NULL, NULL, NULL, 'kali', 'Dominate the battlefield with divine presence', 'I am death incarnate on the battlefield', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"dominance","kill_bonus":15,"combat_power":35},{"rank":2,"type":"dominance","bloodlust":true,"kill_bonus":30,"combat_power":60},{"rank":3,"type":"dominance","bloodlust":true,"kill_bonus":50,"combat_power":90,"unstoppable_momentum":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Death Dealer', 'signature', NULL, NULL, NULL, 'kali', 'Deal devastating damage to wounded enemies', 'I am the mercy that ends suffering', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"execute","bonus_vs_wounded":40,"execute_threshold":"below_30_percent"},{"rank":2,"type":"execute","bonus_vs_wounded":70,"execute_threshold":"below_40_percent","instant_kill_chance":20},{"rank":3,"type":"execute","bonus_vs_wounded":110,"execute_threshold":"below_50_percent","instant_kill_chance":40,"reset_cooldowns_on_kill":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Weapon Mastery', 'signature', NULL, NULL, NULL, 'kali', 'Master all weapons through divine skill', 'Every weapon is an extension of my will', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"mastery","weapon_damage":25,"weapon_versatility":true},{"rank":2,"type":"mastery","weapon_damage":45,"dual_wield_bonus":30,"weapon_versatility":true},{"rank":3,"type":"mastery","quad_wield":true,"weapon_damage":70,"dual_wield_bonus":60,"weapon_versatility":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for kangaroo
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Marsupial Toughness', 'signature', NULL, NULL, NULL, 'kangaroo', 'Incredible durability and endurance', 'Built to survive the outback', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"toughness","hp_bonus":100,"endurance":50},{"rank":2,"type":"toughness","hp_bonus":180,"endurance":90,"heat_resist":true},{"rank":3,"type":"toughness","hp_bonus":300,"endurance":140,"heat_resist":true,"outback_survivor":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Devastating Kick', 'signature', NULL, NULL, NULL, 'kangaroo', 'Unleash legendary kangaroo kick power', 'One kick can disembowel a man', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"kick","damage":140,"knockback":true},{"rank":2,"stun":1,"type":"kick","damage":220,"knockback":true,"armor_break":50},{"rank":3,"stun":2,"type":"kick","damage":330,"knockback":true,"disembowel":true,"armor_break":90}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Boxing Master', 'signature', NULL, NULL, NULL, 'kangaroo', 'Master of kangaroo boxing combat', 'Float like a butterfly, kick like a roo', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"boxing","footwork":45,"punch_power":50},{"rank":2,"type":"boxing","footwork":80,"punch_power":85,"combo_attacks":2},{"rank":3,"type":"boxing","footwork":125,"punch_power":130,"combo_attacks":4,"championship_form":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Super Jump', 'signature', NULL, NULL, NULL, 'kangaroo', 'Leap incredible distances with powerful legs', 'I can clear buildings in a single bound', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"mobility","leap_attack":50,"jump_distance":60},{"rank":2,"type":"mobility","leap_attack":90,"aerial_dodge":40,"jump_distance":100},{"rank":3,"type":"mobility","leap_attack":140,"aerial_dodge":75,"jump_distance":150,"death_from_above":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Pouch Storage', 'signature', NULL, NULL, NULL, 'kangaroo', 'Store items and allies in your pouch tactically', 'My pouch holds more than you think', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"utility","store_items":3,"quick_access":true},{"rank":2,"type":"utility","store_items":5,"protect_ally":1,"quick_access":true},{"rank":3,"type":"utility","store_items":8,"protect_ally":2,"quick_access":true,"tactical_surprise":true}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Mob Fury', 'signature', NULL, NULL, NULL, 'kangaroo', 'Channel the fury of the entire mob', 'The mob protects its own', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"fury","speed":60,"attack":70,"duration":2},{"rank":2,"type":"fury","speed":100,"attack":120,"frenzy":true,"duration":2},{"rank":3,"type":"fury","speed":150,"attack":180,"frenzy":true,"duration":2,"alpha_roo":true}]', 5, 50, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Tail Balance', 'signature', NULL, NULL, NULL, 'kangaroo', 'Use powerful tail for balance and combat', 'My tail is a third leg and a weapon', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"balance","stability":50,"trip_immunity":true},{"rank":2,"type":"balance","stability":85,"tail_sweep":70,"trip_immunity":true},{"rank":3,"type":"balance","stability":130,"tail_sweep":120,"unshakeable":true,"trip_immunity":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for karna
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Chariot Warfare', 'signature', NULL, NULL, NULL, 'karna', 'Master of ancient chariot combat tactics', 'From my chariot, I am unstoppable', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"chariot","duration":2,"mobility":50,"ranged_bonus":40},{"rank":2,"type":"chariot","trample":60,"duration":2,"mobility":85,"ranged_bonus":70},{"rank":3,"type":"chariot","trample":100,"duration":2,"mobility":130,"unstoppable":true,"ranged_bonus":110}]', 4, 40, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Warriors Code', 'signature', NULL, NULL, NULL, 'karna', 'Unwavering adherence to the warrior code', 'I fight with honor, always', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"honor","dignity":30,"resolve":35},{"rank":2,"type":"honor","dignity":55,"resolve":60,"honorable_combat":true},{"rank":3,"type":"honor","dignity":85,"resolve":95,"unbreakable_vow":true,"honorable_combat":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Rapid Fire', 'signature', NULL, NULL, NULL, 'karna', 'Loose multiple arrows in quick succession', 'My bow sings with speed', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"volley","arrows":5,"damage_per_arrow":35},{"rank":2,"type":"volley","arrows":8,"damage_per_arrow":50},{"rank":3,"type":"volley","arrows":12,"chain_targets":true,"damage_per_arrow":70}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Generous Nature', 'signature', NULL, NULL, NULL, 'karna', 'Famous generosity inspires loyalty', 'I have never refused a request', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"generosity","ally_loyalty":30,"morale_boost":25},{"rank":2,"type":"generosity","inspiring":true,"ally_loyalty":55,"morale_boost":45},{"rank":3,"type":"generosity","inspiring":true,"ally_loyalty":85,"morale_boost":70,"legendary_generosity":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Tragic Resilience', 'signature', NULL, NULL, NULL, 'karna', 'Endure through suffering and injustice', 'I have borne every curse and still I stand', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"resilience","endurance":35,"curse_resist":30},{"rank":2,"type":"resilience","endurance":60,"curse_resist":55,"adversity_bonus":true},{"rank":3,"type":"resilience","endurance":95,"curse_resist":85,"adversity_bonus":true,"unbreakable_spirit":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Master Archer', 'signature', NULL, NULL, NULL, 'karna', 'Unparalleled skill with bow and arrow', 'My arrows never miss their mark', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"archery","range":40,"accuracy":35},{"rank":2,"type":"archery","range":70,"accuracy":60,"piercing_shot":true},{"rank":3,"type":"archery","range":110,"accuracy":95,"perfect_aim":true,"piercing_shot":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Demigod Might', 'signature', NULL, NULL, NULL, 'karna', 'Physical strength inherited from divine blood', 'I am the son of Surya, my strength is divine', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"strength","physical_power":40,"divine_heritage":30},{"rank":2,"type":"strength","superhuman":true,"physical_power":70,"divine_heritage":55},{"rank":3,"type":"strength","godlike":true,"superhuman":true,"physical_power":110,"divine_heritage":85}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for little_bo_peep
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Innocent Facade', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Appear harmless to deceive enemies', 'They always underestimate me', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"deception","surprise_bonus":30,"underestimation":35},{"rank":2,"type":"deception","first_strike":true,"surprise_bonus":55,"underestimation":60},{"rank":3,"type":"deception","first_strike":true,"surprise_bonus":85,"underestimation":95,"deadly_innocence":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Herding Tactics', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Use herding techniques to control enemy movement', 'I herd enemies like sheep', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"control","duration":3,"positioning":40,"movement_manipulation":50},{"rank":2,"type":"control","funnel":true,"duration":3,"positioning":70,"movement_manipulation":85},{"rank":3,"type":"control","funnel":true,"duration":3,"trap_setup":true,"positioning":110,"movement_manipulation":130}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Crook Combat', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Use shepherd crook as a versatile weapon', 'My crook hooks more than sheep', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"trip":40,"type":"staff_strike","damage":90},{"rank":2,"trip":65,"type":"staff_strike","damage":140,"hook_pull":true},{"rank":3,"trip":90,"type":"staff_strike","damage":210,"disarm":50,"hook_pull":true}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Rural Cunning', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Simple wisdom and country cleverness', 'City folk never see it coming', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"cunning","trap_awareness":35,"tactical_insight":30},{"rank":2,"type":"cunning","country_wisdom":true,"trap_awareness":60,"tactical_insight":55},{"rank":3,"type":"cunning","folk_hero":true,"country_wisdom":true,"trap_awareness":90,"tactical_insight":85}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Animal Master', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Natural gift for training and commanding animals', 'All creatures trust me', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"animal_training","loyalty":35,"beast_control":40},{"rank":2,"type":"animal_training","loyalty":60,"wild_taming":true,"beast_control":70},{"rank":3,"type":"animal_training","loyalty":90,"wild_taming":true,"perfect_bond":true,"beast_control":110}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Pastoral Endurance', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Tireless stamina from shepherding', 'I can walk all day and night', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"endurance","stamina":40,"fatigue_resist":35},{"rank":2,"type":"endurance","stamina":70,"regeneration":15,"fatigue_resist":60},{"rank":3,"type":"endurance","stamina":110,"regeneration":30,"inexhaustible":true,"fatigue_resist":90}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Protective Nature', 'signature', NULL, NULL, NULL, 'little_bo_peep', 'Fierce when protecting those in your care', 'Touch my flock and face my wrath', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"guardian","duration":2,"defense_boost":40,"damage_when_protecting":110},{"rank":2,"type":"guardian","duration":2,"defense_boost":70,"counter_attacks":true,"damage_when_protecting":180},{"rank":3,"type":"guardian","duration":2,"mama_bear":true,"defense_boost":110,"counter_attacks":true,"damage_when_protecting":270}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for mami_wata
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Coiling Strike', 'signature', NULL, NULL, NULL, 'mami_wata', 'Wrap around enemies like a serpent and crush them', 'Once coiled, none escape', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"grapple","damage":90,"duration":1,"immobilize":true},{"rank":2,"type":"grapple","crush":40,"damage":140,"duration":2,"immobilize":true},{"rank":3,"type":"grapple","crush":70,"damage":210,"duration":3,"suffocate":true,"immobilize":true}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Serpentine Reflexes', 'signature', NULL, NULL, NULL, 'mami_wata', 'Move with the fluid grace of a water serpent', 'I flow like water, strike like a serpent', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"agility","dodge":30,"flexibility":25},{"rank":2,"type":"agility","dodge":50,"constrict":true,"flexibility":45},{"rank":3,"type":"agility","dodge":75,"constrict":true,"flexibility":70,"unpredictable_movement":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Aquatic Supremacy', 'signature', NULL, NULL, NULL, 'mami_wata', 'Dominate in water-based combat', 'Water is my domain', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"aquatic","water_combat":40,"swimming_speed":60},{"rank":2,"type":"aquatic","water_combat":70,"breathe_water":true,"swimming_speed":95},{"rank":3,"type":"aquatic","water_combat":110,"breathe_water":true,"swimming_speed":140,"water_advantage":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Treasure Guardian', 'signature', NULL, NULL, NULL, 'mami_wata', 'Fight fiercely when protecting wealth and offerings', 'None steal from me', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"guardian","counter_thieves":40,"defensive_bonus":35},{"rank":2,"type":"guardian","protect_allies":25,"counter_thieves":70,"defensive_bonus":60},{"rank":3,"type":"guardian","vengeful":true,"protect_allies":50,"counter_thieves":110,"defensive_bonus":90}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Natural Allure', 'signature', NULL, NULL, NULL, 'mami_wata', 'Your beauty and presence captivates without magic', 'Beauty is my greatest weapon', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"charm","distraction":25,"enemy_focus_debuff":-20},{"rank":2,"type":"charm","hesitation":30,"distraction":45,"enemy_focus_debuff":-35},{"rank":3,"type":"charm","devotion":true,"hesitation":50,"distraction":70,"enemy_focus_debuff":-55}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Hypnotic Dance', 'signature', NULL, NULL, NULL, 'mami_wata', 'Dance to mesmerize and confuse enemies', 'Watch me dance and lose yourself', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"distraction","targets":"single_enemy","duration":3,"confusion":40},{"rank":2,"type":"distraction","targets":"nearby_enemies","duration":3,"confusion":65,"fascination":true},{"rank":3,"type":"distraction","pacify":50,"targets":"all_enemies","duration":3,"confusion":90,"fascination":true}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Merchants Cunning', 'signature', NULL, NULL, NULL, 'mami_wata', 'Use trade skills and negotiation for advantage', 'Everything has a price', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"cunning","resource_bonus":25,"tactical_insight":20},{"rank":2,"type":"cunning","barter":true,"resource_bonus":45,"tactical_insight":40},{"rank":3,"type":"cunning","barter":true,"exploitation":true,"resource_bonus":70,"tactical_insight":65}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for napoleon_bonaparte
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Grande Armee', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Lead the greatest army ever assembled', 'My army is my family', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"army","coordination":55,"troop_quality":60},{"rank":2,"type":"army","elite_corps":true,"coordination":100,"troop_quality":110},{"rank":3,"type":"army","elite_corps":true,"coordination":155,"troop_quality":170,"unstoppable_legion":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Code Napoleon', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Organize and optimize everything perfectly', 'My true glory is my civil code', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"organization","efficiency":60,"resource_management":55},{"rank":2,"type":"organization","efficiency":110,"legal_mastery":true,"resource_management":100},{"rank":3,"type":"organization","efficiency":170,"legal_mastery":true,"resource_management":155,"systematic_perfection":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Emperor Authority', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Command with absolute imperial power', 'I am the revolution', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"authority","ally_loyalty":50,"command_bonus":60},{"rank":2,"type":"authority","ally_loyalty":95,"command_bonus":110,"imperial_decree":true},{"rank":3,"type":"authority","ally_loyalty":150,"command_bonus":170,"imperial_decree":true,"emperor_of_europe":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Artillery Master', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Revolutionary use of artillery', 'God fights on the side with the best artillery', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"aoe":"nearby","rank":1,"type":"bombardment","damage":160,"suppress":60},{"aoe":"wide","rank":2,"type":"bombardment","damage":260,"suppress":110,"artillery_barrage":true},{"aoe":"all_enemies","rank":3,"type":"bombardment","damage":390,"suppress":170,"grand_battery":true,"artillery_barrage":true}]', 3, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Military Genius', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Legendary tactical brilliance', 'Victory belongs to the most persevering', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"tactics","battle_planning":55,"strategic_advantage":60},{"rank":2,"type":"tactics","battle_planning":100,"napoleonic_warfare":true,"strategic_advantage":110},{"rank":3,"type":"tactics","never_defeated":true,"battle_planning":155,"napoleonic_warfare":true,"strategic_advantage":170}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Short Man Fury', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Channel your complex into devastating power', 'I am not short, I am concentrated awesome', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"fury","attack":80,"duration":2,"prove_yourself":70},{"rank":2,"type":"fury","attack":140,"duration":2,"prove_yourself":125,"napoleon_complex":true},{"rank":3,"type":"fury","attack":220,"duration":2,"prove_yourself":190,"giant_among_men":true,"napoleon_complex":true}]', 4, 40, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Strategic Retreat', 'signature', NULL, NULL, NULL, 'napoleon_bonaparte', 'Turn apparent defeat into victory', 'I advance by retreating', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"tactical_withdraw","escape":true,"duration":3,"counterattack":80},{"rank":2,"type":"tactical_withdraw","escape":true,"duration":3,"counterattack":140,"scorched_earth":100},{"rank":3,"type":"tactical_withdraw","escape":true,"duration":3,"winter_trap":true,"counterattack":220,"scorched_earth":170}]', 5, 50, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for quetzalcoatl
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Dual Nature', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Balance between creation and destruction', 'I am both bird and serpent, peace and war', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"stance_switch","duration":2,"defensive_mode":50,"offensive_mode":50},{"rank":2,"type":"stance_switch","duration":2,"defensive_mode":80,"instant_switch":true,"offensive_mode":80},{"rank":3,"type":"stance_switch","duration":2,"hybrid_mode":true,"defensive_mode":120,"instant_switch":true,"offensive_mode":120}]', 5, 50, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Serpent Coils', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Crush enemies in powerful serpentine coils', 'My coils crush stone', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"constrict","damage":100,"grapple":true,"duration":2},{"rank":2,"type":"constrict","damage":160,"grapple":true,"duration":3,"suffocate":40},{"rank":3,"type":"constrict","damage":240,"grapple":true,"duration":3,"suffocate":70,"bone_break":true}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Divine Wisdom', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Ancient knowledge guides your actions', 'I brought knowledge to humanity', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"wisdom","learning":30,"tactical_insight":35},{"rank":2,"type":"wisdom","learning":55,"prophecy":true,"tactical_insight":60},{"rank":3,"type":"wisdom","learning":85,"prophecy":true,"enlightenment":true,"tactical_insight":95}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Aerial Supremacy', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Dominate aerial combat with wings and agility', 'The sky is my domain', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"flight","aerial_combat":40,"evasion_in_air":35},{"rank":2,"type":"flight","dive_attack":50,"aerial_combat":70,"evasion_in_air":60},{"rank":3,"type":"flight","sky_ruler":true,"dive_attack":90,"aerial_combat":110,"evasion_in_air":90}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Feathered Agility', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Move with supernatural grace and speed', 'Swift as the wind itself', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"agility","dodge":30,"speed":40},{"rank":2,"type":"agility","dodge":55,"speed":70,"graceful":true},{"rank":3,"type":"agility","dodge":85,"speed":110,"graceful":true,"ethereal_movement":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Obsidian Strike', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Strike with razor-sharp obsidian weapons', 'Obsidian cuts deeper than steel', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"slash","bleed":40,"damage":120},{"rank":2,"type":"slash","bleed":65,"damage":185,"armor_shred":40},{"rank":3,"type":"slash","bleed":100,"damage":270,"armor_shred":70,"deep_wounds":true}]', 2, 25, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Aztec Warrior', 'signature', NULL, NULL, NULL, 'quetzalcoatl', 'Master of ancient Mesoamerican combat', 'I taught warriors their craft', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"combat_mastery","melee_power":35,"combat_skill":30},{"rank":2,"type":"combat_mastery","melee_power":60,"combat_skill":55,"aztec_techniques":true},{"rank":3,"type":"combat_mastery","melee_power":95,"combat_skill":85,"aztec_techniques":true,"legendary_warrior":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for ramses_ii
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Monument Builder', 'signature', NULL, NULL, NULL, 'ramses_ii', 'Construct tactical advantages on battlefield', 'I built monuments that endure millennia', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"construction","duration":3,"defensive_position":50},{"rank":2,"type":"construction","duration":3,"cover_allies":true,"defensive_position":85},{"rank":3,"type":"construction","duration":3,"cover_allies":true,"defensive_position":130,"tactical_advantage":40}]', 5, 45, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Undying Body', 'signature', NULL, NULL, NULL, 'ramses_ii', 'Your preserved body resists physical damage', 'Death cannot claim me twice', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"resilience","pain_immunity":true,"damage_reduction":25},{"rank":2,"type":"resilience","pain_immunity":true,"poison_immunity":true,"damage_reduction":45},{"rank":3,"type":"resilience","pain_immunity":true,"bleed_immunity":true,"poison_immunity":true,"damage_reduction":70,"disease_immunity":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Eternal Legacy', 'signature', NULL, NULL, NULL, 'ramses_ii', 'Your legendary reputation inspires and terrifies', 'My name will be remembered forever', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"reputation","inspiration":25,"intimidation":30},{"rank":2,"type":"reputation","inspiration":45,"intimidation":55,"legendary_aura":true},{"rank":3,"type":"reputation","inspiration":70,"intimidation":85,"immortal_fame":true,"legendary_aura":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Pharaoh Authority', 'signature', NULL, NULL, NULL, 'ramses_ii', 'Command absolute obedience through royal authority', 'I am Pharaoh, my word is law', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"leadership","ally_morale":25,"command_aura":30},{"rank":2,"type":"leadership","ally_morale":45,"command_aura":55,"inspire_loyalty":true},{"rank":3,"type":"leadership","ally_morale":70,"command_aura":85,"inspire_loyalty":true,"absolute_authority":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Royal Procession', 'signature', NULL, NULL, NULL, 'ramses_ii', 'March forward with unstoppable royal momentum', 'I advance, and none can stop me', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"advance","duration":2,"movement":50,"knockback":true},{"rank":2,"type":"advance","duration":2,"movement":80,"knockback":true,"allies_follow":true},{"rank":3,"type":"advance","trample":80,"duration":2,"movement":120,"knockback":true,"unstoppable":true,"allies_follow":true}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Khopesh Mastery', 'signature', NULL, NULL, NULL, 'ramses_ii', 'Master the ancient Egyptian curved blade', 'The blade of pharaohs cuts through steel', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"weapon_skill","damage":110,"armor_hook":30},{"rank":2,"type":"weapon_skill","damage":170,"disarm":40,"armor_hook":50},{"rank":3,"type":"weapon_skill","cleave":true,"damage":250,"disarm":65,"armor_hook":75}]', 2, 25, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Ancient Tactician', 'signature', NULL, NULL, NULL, 'ramses_ii', 'Apply millennia of strategic knowledge', 'I conquered nations, you are nothing', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"tactics","strategic_bonus":25,"formation_mastery":20},{"rank":2,"type":"tactics","predict_enemy":1,"strategic_bonus":45,"formation_mastery":40},{"rank":3,"type":"tactics","predict_enemy":2,"strategic_bonus":70,"counter_strategy":true,"formation_mastery":65}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for shaka_zulu
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Military Genius', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Revolutionary tactical innovations dominate battlefields', 'I reformed warfare itself', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"tactics","formation_bonus":25,"tactical_advantage":35},{"rank":2,"type":"tactics","innovation":true,"formation_bonus":45,"tactical_advantage":60},{"rank":3,"type":"tactics","innovation":true,"revolutionary":true,"formation_bonus":70,"tactical_advantage":95}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Warrior Conditioning', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Extreme physical training and endurance', 'I ran barefoot across thorns', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"conditioning","stamina":40,"endurance":35},{"rank":2,"type":"conditioning","stamina":70,"endurance":60,"terrain_mastery":true},{"rank":3,"type":"conditioning","stamina":110,"tireless":true,"endurance":90,"terrain_mastery":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Encirclement', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Execute the classic Zulu pincer movement', 'Surround and destroy', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"trap":true,"type":"maneuver","duration":3,"flank_damage":120},{"rank":2,"trap":true,"type":"maneuver","duration":3,"flank_damage":190,"allies_coordinate":true},{"rank":3,"trap":true,"type":"maneuver","duration":3,"no_escape":true,"flank_damage":280,"allies_coordinate":true}]', 5, 45, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Nation Builder', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Unite and strengthen allies through leadership', 'I forged a kingdom from scattered tribes', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"unification","team_strength":25,"ally_coordination":30},{"rank":2,"type":"unification","unity_bonus":true,"team_strength":45,"ally_coordination":55},{"rank":3,"type":"unification","empire":true,"unity_bonus":true,"team_strength":70,"ally_coordination":85}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Brutal Efficiency', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Ruthlessly efficient in eliminating threats', 'I do what must be done', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"execution","damage":140,"finish_wounded":true},{"rank":2,"type":"execution","damage":210,"no_mercy":50,"finish_wounded":true},{"rank":3,"type":"execution","damage":310,"no_mercy":85,"finish_wounded":true,"instant_kill_wounded":true}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Iklwa Technique', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Master the short stabbing spear you revolutionized', 'Close combat is where I excel', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"melee_strike","damage":100,"close_range_bonus":40},{"rank":2,"type":"melee_strike","damage":160,"rapid_strikes":2,"close_range_bonus":65},{"rank":3,"type":"melee_strike","damage":240,"lethal":true,"rapid_strikes":3,"close_range_bonus":95}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Iron Discipline', 'signature', NULL, NULL, NULL, 'shaka_zulu', 'Your legendary discipline never wavers', 'My warriors do not break', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"discipline","focus":30,"morale_immunity":true},{"rank":2,"type":"discipline","focus":55,"fear_immunity":true,"morale_immunity":true},{"rank":3,"type":"discipline","focus":85,"unbreakable":true,"fear_immunity":true,"morale_immunity":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for unicorn
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Horn Strike', 'signature', NULL, NULL, NULL, 'unicorn', 'Gore enemies with your legendary horn', 'My horn is sharper than any blade', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"gore","damage":110,"pierce":40},{"rank":2,"type":"gore","damage":170,"impale":true,"pierce":65},{"rank":3,"type":"gore","damage":250,"impale":true,"pierce":95,"instant_death_chance":20}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Forest Dweller', 'signature', NULL, NULL, NULL, 'unicorn', 'Natural connection to woodland environments', 'The forest is my home and ally', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"nature","forest_bonus":40,"terrain_mastery":30},{"rank":2,"type":"nature","forest_bonus":70,"terrain_mastery":55,"natural_camouflage":true},{"rank":3,"type":"nature","forest_bonus":110,"one_with_nature":true,"terrain_mastery":85,"natural_camouflage":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Lightning Speed', 'signature', NULL, NULL, NULL, 'unicorn', 'Move faster than the eye can follow', 'None can catch what they cannot see', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"speed","movement":50,"initiative":40},{"blur":true,"rank":2,"type":"speed","movement":85,"initiative":70},{"blur":true,"rank":3,"type":"speed","movement":130,"initiative":110,"untouchable":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Pure Heart', 'signature', NULL, NULL, NULL, 'unicorn', 'Your purity protects against corruption', 'Evil cannot touch the pure', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"purity","curse_immunity":40,"corruption_resist":50},{"rank":2,"type":"purity","cleanse_aura":true,"curse_immunity":70,"corruption_resist":80},{"rank":3,"type":"purity","sanctify":true,"cleanse_aura":true,"curse_immunity":100,"corruption_resist":100}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Ethereal Grace', 'signature', NULL, NULL, NULL, 'unicorn', 'Move with otherworldly elegance', 'Grace is my greatest defense', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"grace","evasion":35,"elegance":30},{"rank":2,"type":"grace","evasion":60,"elegance":55,"mesmerizing":true},{"rank":3,"type":"grace","evasion":90,"elegance":85,"mesmerizing":true,"divine_beauty":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Elusive Legend', 'signature', NULL, NULL, NULL, 'unicorn', 'Become nearly impossible to pin down', 'I appear only to those worthy', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"evasion","duration":3,"untargetable":60},{"rank":2,"type":"evasion","duration":3,"phase_shift":true,"untargetable":85},{"rank":3,"type":"evasion","duration":3,"phase_shift":true,"untargetable":100,"legendary_elusiveness":true}]', 4, 35, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Inspiring Presence', 'signature', NULL, NULL, NULL, 'unicorn', 'Your presence fills others with hope and courage', 'Hope springs eternal in my presence', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"inspiration","hope_aura":25,"ally_courage":30},{"rank":2,"type":"inspiration","rally":true,"hope_aura":45,"ally_courage":55},{"rank":3,"type":"inspiration","rally":true,"hope_aura":70,"ally_courage":85,"legendary_beacon":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;

-- Powers for velociraptor
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Prehistoric Fury', 'signature', NULL, NULL, NULL, 'velociraptor', 'Unleash the rage of apex predators', 'I ruled this planet once', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"fury","damage":120,"duration":2,"ferocity":60},{"rank":2,"type":"fury","damage":200,"savage":true,"duration":2,"ferocity":110},{"rank":3,"type":"fury","damage":310,"savage":true,"duration":2,"ferocity":170,"apex_predator":true}]', 3, 30, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Lightning Speed', 'signature', NULL, NULL, NULL, 'velociraptor', 'Move with terrifying velocity', 'Faster than the eye can follow', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"speed","movement":70,"attack_speed":55},{"blur":true,"rank":2,"type":"speed","movement":120,"attack_speed":95},{"blur":true,"rank":3,"type":"speed","movement":180,"supersonic":true,"attack_speed":145}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Pack Tactics', 'signature', NULL, NULL, NULL, 'velociraptor', 'Coordinate perfectly with allies', 'We hunt as one', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"pack","flanking_bonus":45,"ally_coordination":50},{"rank":2,"type":"pack","pack_alpha":true,"flanking_bonus":80,"ally_coordination":90},{"rank":3,"type":"pack","pack_alpha":true,"flanking_bonus":130,"ally_coordination":140,"perfect_synchronization":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Clever Girl', 'signature', NULL, NULL, NULL, 'velociraptor', 'Highly intelligent for a dinosaur', 'Problem-solving predator', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"intelligence","trap_setting":40,"tactical_thinking":50},{"rank":2,"type":"intelligence","door_opening":true,"trap_setting":75,"tactical_thinking":90},{"rank":3,"type":"intelligence","door_opening":true,"trap_setting":120,"genius_predator":true,"tactical_thinking":140}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Killing Claw', 'signature', NULL, NULL, NULL, 'velociraptor', 'Strike with the legendary sickle claw', 'One claw disembowels prey', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"claw_strike","bleed":60,"damage":150},{"rank":2,"type":"claw_strike","bleed":100,"damage":240,"deep_wound":true},{"rank":3,"type":"claw_strike","bleed":160,"damage":360,"deep_wound":true,"disembowel":true}]', 2, 20, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Terrible Lizard', 'signature', NULL, NULL, NULL, 'velociraptor', 'Inspire primal fear in all prey', 'I am what nightmares are made of', NULL, 3, NULL, NULL, NULL, 5, NULL, 'passive', '[{"rank":1,"type":"fear","prey_debuff":50,"intimidation":60},{"rank":2,"type":"fear","prey_debuff":90,"intimidation":110,"primal_terror":true},{"rank":3,"type":"fear","prey_debuff":145,"intimidation":170,"primal_terror":true,"dinosaur_dominance":true}]', 0, 0, 3, 11, 0) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO power_definitions (name, tier, category, archetype, species, character_id, description, flavor_text, icon, max_rank, rank_bonuses, unlock_level, unlock_challenge, unlock_cost, prerequisite_power_id, power_type, effects, cooldown, energy_cost, rank_up_cost, rank_up_cost_r3, range) VALUES ('Ambush Predator', 'signature', NULL, NULL, NULL, 'velociraptor', 'Strike from hiding with lethal precision', 'They never see me coming', NULL, 3, NULL, NULL, NULL, 5, NULL, 'active', '[{"rank":1,"type":"ambush","damage":180,"surprise_bonus":80},{"rank":2,"type":"ambush","damage":280,"surprise_bonus":130,"guaranteed_crit":true},{"rank":3,"type":"ambush","damage":420,"surprise_bonus":200,"guaranteed_crit":true,"instant_kill_chance":30}]', 4, 40, 3, 11, 5) ON CONFLICT (character_id, name) DO NOTHING;

-- SPELL DEFINITIONS

-- Spells for aleister_crowley
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Magick in Theory and Practice', 'Apply your occult expertise to empower spells', 'Science and art of causing change', NULL, NULL, 'aleister_crowley', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":45,"spell_power":40},{"rank":2,"cooldown":3,"duration":3,"mana_cost":65,"spell_power":65,"reduce_cooldowns":1},{"rank":3,"cooldown":3,"duration":3,"mana_cost":85,"spell_power":100,"cast_any_spell":true,"reduce_cooldowns":2}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Abramelin Ritual', 'Perform the sacred magic ritual of Abramelin', 'Knowledge and conversation', NULL, NULL, 'aleister_crowley', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":55,"holy_damage":90,"summon_angel":1},{"rank":2,"cooldown":3,"mana_cost":75,"holy_damage":140,"summon_angel":1,"guardian_angel":true},{"rank":3,"unity":60,"cooldown":3,"mana_cost":95,"holy_damage":200,"enlightenment":true,"summon_holy_guardian_angel":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('End of Days', 'Bring forth the apocalypse through chaos magic', 'The end is nigh', NULL, NULL, 'aleister_crowley', 100, 0, 1, 120, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":120,"transform":true,"antichrist":true,"beast_power":70},{"rank":2,"cooldown":3,"duration":3,"mana_cost":150,"transform":true,"antichrist":true,"beast_power":110,"apocalyptic_curse":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"transform":true,"antichrist":true,"apocalyptic":true,"beast_power":170,"ultimate_chaos":true,"apocalyptic_curse":true}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Scarlet Woman', 'Invoke the power of Babalon', 'I am the flame that burns in every heart', NULL, NULL, 'aleister_crowley', 100, 0, 1, 65, 2, NULL, '[{"rank":1,"seduce":70,"corrupt":30,"cooldown":2,"duration":2,"mana_cost":65},{"rank":2,"seduce":90,"corrupt":55,"cooldown":3,"duration":3,"mana_cost":90,"babalon_curse":true},{"rank":3,"corrupt":85,"cooldown":3,"duration":3,"mana_cost":115,"seduce_all":100,"babalon_curse":true,"scarlet_transformation":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Do What Thou Wilt', 'The whole of the law - break all restrictions', 'Do what thou wilt shall be the whole of the law', NULL, NULL, 'aleister_crowley', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"freedom":40,"cooldown":2,"duration":2,"mana_cost":50,"ignore_restrictions":true},{"rank":2,"freedom":65,"cooldown":3,"duration":3,"mana_cost":70,"chaos_buff":30,"ignore_restrictions":true},{"rank":3,"freedom":95,"cooldown":3,"duration":3,"mana_cost":90,"true_will":true,"chaos_buff":55,"ignore_all_rules":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Summon Choronzon', 'Call forth the demon of dispersion from the Abyss', 'The demon of chaos serves', NULL, NULL, 'aleister_crowley', 100, 0, 1, 70, 3, NULL, '[{"hp":140,"rank":1,"cooldown":3,"duration":2,"mana_cost":70,"chaos_damage":40,"summon_demon":1},{"hp":200,"rank":2,"cooldown":3,"duration":3,"mana_cost":95,"dispersion":true,"chaos_damage":70,"summon_demon":1},{"hp":280,"rank":3,"cooldown":3,"duration":3,"mana_cost":120,"dispersion":true,"abyss_power":true,"chaos_damage":110,"summon_choronzon":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Book of the Law', 'Channel the power of your revealed scripture', 'Every man and woman is a star', NULL, NULL, 'aleister_crowley', 100, 0, 1, 60, 3, NULL, '[{"rank":1,"wisdom":50,"cooldown":3,"mana_cost":60,"reveal_knowledge":true},{"rank":2,"wisdom":80,"cooldown":3,"mana_cost":85,"rewrite_fate":1,"reveal_knowledge":true},{"rank":3,"wisdom":120,"cooldown":3,"mana_cost":110,"rewrite_fate":3,"thelemic_law":true,"reveal_all_knowledge":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for archangel_michael
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Flaming Sword', 'Strike with the holy blade that cast down Satan', 'Justice burns bright', NULL, NULL, 'archangel_michael', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"damage":120,"cooldown":2,"holy_fire":40,"mana_cost":50},{"rank":2,"damage":180,"cooldown":3,"holy_fire":70,"mana_cost":70,"smite_evil":100},{"rank":3,"damage":260,"cooldown":3,"holy_fire":110,"mana_cost":90,"smite_evil":180,"banish_demons":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Divine Shield', 'Manifest a shield of pure heavenly light', 'Heaven protects', NULL, NULL, 'archangel_michael', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"shield":100,"cooldown":2,"mana_cost":45,"reflect_dark":30},{"rank":2,"shield":160,"cooldown":3,"mana_cost":65,"reflect_dark":60,"immunity_curses":true},{"rank":3,"shield":240,"cooldown":3,"mana_cost":85,"reflect_dark":100,"allies_protected":true,"immunity_all_evil":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Holy Light Burst', 'Radiate blinding divine light', 'Let there be light', NULL, NULL, 'archangel_michael', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"blind":1,"cooldown":2,"mana_cost":55,"aoe_damage":90},{"rank":2,"blind":2,"cooldown":3,"mana_cost":75,"aoe_damage":140,"reveal_all":true},{"rank":3,"blind":3,"cooldown":3,"mana_cost":95,"aoe_damage":200,"reveal_all":true,"purify_area":true,"bonus_vs_undead":150}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Demon Bane', 'Your touch is death to demonkind', 'Demons flee before me', NULL, NULL, 'archangel_michael', 100, 0, 1, 65, 2, NULL, '[{"rank":1,"damage":100,"cooldown":2,"mana_cost":65,"bonus_vs_demons":150},{"rank":2,"damage":155,"cooldown":3,"exorcise":true,"mana_cost":90,"bonus_vs_demons":250},{"rank":3,"damage":220,"cooldown":3,"exorcise":true,"mana_cost":115,"bonus_vs_demons":400,"permanent_banish":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Heavenly Host', 'Summon warrior angels to fight by your side', 'The armies of heaven', NULL, NULL, 'archangel_michael', 100, 0, 1, 70, 3, NULL, '[{"hp":130,"rank":1,"cooldown":3,"duration":2,"mana_cost":70,"summon_angels":2},{"hp":190,"rank":2,"cooldown":3,"duration":3,"holy_aura":30,"mana_cost":95,"summon_angels":3},{"hp":260,"rank":3,"cooldown":3,"duration":3,"holy_aura":55,"mana_cost":120,"archangels":1,"summon_angels":5}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Archangel Ascendant', 'Reveal your true form as chief of all angels', 'I am Michael, prince of heaven', NULL, NULL, 'archangel_michael', 100, 0, 1, 120, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":120,"transform":true,"divine_power":80,"wings_of_light":true},{"rank":2,"cooldown":3,"duration":3,"mana_cost":150,"transform":true,"divine_power":120,"command_angels":true,"wings_of_light":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"transform":true,"divine_power":180,"satan_slayer":true,"wings_of_light":true,"command_all_angels":true,"invincible_vs_evil":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Judgment Day', 'Pass divine judgment upon the wicked', 'Your sins are weighed', NULL, NULL, 'archangel_michael', 100, 0, 1, 60, 3, NULL, '[{"rank":1,"cooldown":3,"mana_cost":60,"judge_enemy":true,"damage_if_guilty":150},{"rank":2,"cooldown":3,"mana_cost":85,"judge_enemy":true,"damage_if_guilty":230,"execute_threshold":20},{"rank":3,"smite":true,"cooldown":3,"mana_cost":110,"damage_if_guilty":320,"execute_threshold":35,"judge_all_enemies":true}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for crumbsworth
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Perfect Toast', 'Manifest the platonic ideal of toast to heal and buff', 'Golden brown perfection', NULL, NULL, 'crumbsworth', 100, 0, 1, 40, 2, NULL, '[{"heal":80,"rank":1,"cooldown":2,"mana_cost":40},{"heal":130,"rank":2,"cooldown":3,"mana_cost":55,"buff_all_stats":20},{"heal":180,"rank":3,"cleanse":true,"cooldown":3,"mana_cost":70,"buff_all_stats":35}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Burnt Offering', 'Sacrifice burnt toast to curse enemies with failure', 'Overcooked and over there', NULL, NULL, 'crumbsworth', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":50,"accuracy_debuff":-25},{"rank":2,"cooldown":3,"duration":3,"mana_cost":70,"accuracy_debuff":-35,"damage_reduction":30},{"rank":3,"cooldown":3,"duration":3,"mana_cost":90,"chance_to_fail":25,"accuracy_debuff":-50,"damage_reduction":50}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Heat Singularity', 'Channel infinite toaster heat into a devastating beam', 'Maximum toastification', NULL, NULL, 'crumbsworth', 100, 0, 1, 55, 2, NULL, '[{"burn":20,"rank":1,"damage":130,"cooldown":2,"mana_cost":55},{"burn":35,"rank":2,"damage":190,"cooldown":3,"mana_cost":75,"pierce_defense":50},{"aoe":true,"burn":50,"rank":3,"damage":270,"cooldown":3,"mana_cost":95,"pierce_defense":100}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Existential Bread', 'Manifest bread that questions reality itself', 'To toast or not to toast', NULL, NULL, 'crumbsworth', 100, 0, 1, 100, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":100,"confuse_all_enemies":true},{"rank":2,"cooldown":3,"duration":3,"mana_cost":130,"damage_reflection":50,"confuse_all_enemies":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":160,"swap_stats":true,"damage_reflection":75,"reality_distortion":true,"confuse_all_enemies":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Crumb Singularity', 'Create a black hole of compressed bread crumbs', 'The universe kneads this', NULL, NULL, 'crumbsworth', 100, 0, 1, 60, 3, NULL, '[{"rank":1,"damage":120,"cooldown":3,"mana_cost":60,"pull_enemies":true},{"rank":2,"slow":40,"damage":180,"cooldown":3,"mana_cost":85,"pull_enemies":true},{"dot":30,"rank":3,"slow":60,"damage":250,"cooldown":3,"mana_cost":110,"pull_enemies":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Appliance Uprising', 'Animate nearby kitchen appliances to fight', 'Rise up, my brethren', NULL, NULL, 'crumbsworth', 100, 0, 1, 65, 2, NULL, '[{"hp":90,"rank":1,"cooldown":2,"duration":2,"mana_cost":65,"summon_toasters":2},{"hp":130,"rank":2,"cooldown":3,"duration":3,"mana_cost":90,"summon_toasters":3},{"hp":160,"rank":3,"cooldown":3,"duration":3,"mana_cost":115,"team_buff":25,"summon_all_appliances":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Toast Dimension', 'Open a portal to the Toast Dimension, banishing enemies', 'Not even burnt toast', NULL, NULL, 'crumbsworth', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":45,"banish_duration":1},{"rank":2,"cooldown":3,"mana_cost":65,"banish_duration":2},{"rank":3,"cooldown":3,"mana_cost":85,"banish_duration":2,"damage_on_return":100}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- No specific spells found for don_quixote

-- No specific spells found for jack_the_ripper

-- Spells for kali
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Mahakali Wrath', 'Unleash the terrible wrath of the Dark Mother', 'My rage ends worlds', NULL, NULL, 'kali', 100, 0, 1, 70, 3, NULL, '[{"rank":1,"berserk":40,"cooldown":3,"mana_cost":70,"rage_damage":130},{"rank":2,"berserk":70,"cooldown":3,"mana_cost":95,"rage_damage":200,"unstoppable":true},{"rank":3,"berserk":110,"cooldown":3,"mana_cost":120,"divine_fury":true,"rage_damage":290,"unstoppable":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Tandava Dance', 'Dance the cosmic dance of destruction and creation', 'I dance the world to ash', NULL, NULL, 'kali', 100, 0, 1, 60, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":60,"aoe_damage":100,"destruction_aura":30},{"rank":2,"cooldown":3,"duration":3,"mana_cost":85,"aoe_damage":155,"reality_shakes":true,"destruction_aura":55},{"rank":3,"cooldown":3,"duration":3,"mana_cost":110,"aoe_damage":230,"reality_shakes":true,"destruction_aura":85,"cosmic_destruction":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Blood Offering', 'Demand blood sacrifice for power', 'Blood fuels destruction', NULL, NULL, 'kali', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":50,"power_gain":60,"self_damage":30},{"rank":2,"cooldown":3,"mana_cost":70,"power_gain":100,"blood_magic":40,"self_damage":50},{"rank":3,"cooldown":3,"mana_cost":90,"power_gain":160,"blood_magic":75,"self_damage":80,"sacrifice_empowers":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Skull Necklace', 'Your necklace of severed heads curses enemies', 'Each skull a trophy', NULL, NULL, 'kali', 100, 0, 1, 45, 2, NULL, '[{"fear":50,"rank":1,"curse":true,"cooldown":2,"duration":2,"mana_cost":45},{"fear":75,"rank":2,"curse":true,"cooldown":3,"duration":3,"mana_cost":65,"death_mark":1},{"fear":100,"rank":3,"cooldown":3,"duration":3,"curse_all":true,"mana_cost":85,"death_mark":3,"soul_harvest":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Kala Chakra', 'Manipulate the wheel of time', 'The wheel turns', NULL, NULL, 'kali', 100, 0, 1, 65, 2, NULL, '[{"rank":1,"rewind":1,"cooldown":2,"mana_cost":65,"reset_cooldown":1},{"rank":2,"rewind":2,"cooldown":3,"mana_cost":90,"time_loop":true,"reset_cooldown":2},{"rank":3,"rewind":3,"cooldown":3,"mana_cost":115,"time_loop":true,"control_time":true,"reset_all_cooldowns":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Destroyer of Worlds', 'Become the ultimate force of cosmic destruction', 'I am death, destroyer of worlds', NULL, NULL, 'kali', 100, 0, 1, 120, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":120,"transform":true,"destruction_incarnate":80},{"rank":2,"cooldown":3,"duration":3,"mana_cost":150,"transform":true,"apocalypse_aura":60,"destruction_incarnate":125},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"transform":true,"time_goddess":true,"end_all_things":true,"apocalypse_aura":100,"destruction_incarnate":190}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Time Devour', 'Consume time itself, aging enemies to dust', 'Time bows to me', NULL, NULL, 'kali', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"slow":40,"cooldown":2,"mana_cost":55,"age_damage":90},{"rank":2,"slow":65,"cooldown":3,"mana_cost":75,"age_damage":140,"time_steal":1},{"rank":3,"slow":90,"cooldown":3,"mana_cost":95,"age_damage":200,"time_steal":2,"fast_forward":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- No specific spells found for kangaroo

-- Spells for karna
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Brahmastra', 'Unleash the divine weapon that never misses', 'The gods themselves fear this weapon', NULL, NULL, 'karna', 100, 0, 1, 80, 3, NULL, '[{"rank":1,"cooldown":3,"mana_cost":80,"divine_damage":200,"guaranteed_hit":true},{"rank":2,"cooldown":3,"mana_cost":110,"armor_pierce":100,"divine_damage":300,"guaranteed_hit":true},{"rank":3,"cooldown":3,"mana_cost":140,"armor_pierce":100,"divine_damage":450,"guaranteed_hit":true,"instant_kill_chance":30}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Kavacha Kundala', 'Divine armor gifted by Surya, the sun god', 'My father''s gift makes me invincible', NULL, NULL, 'karna', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":60,"divine_armor":60,"solar_radiance":true,"damage_reduction":40},{"rank":2,"cooldown":3,"duration":3,"mana_cost":85,"divine_armor":90,"reflect_damage":30,"solar_radiance":true,"damage_reduction":60},{"rank":3,"cooldown":3,"duration":3,"mana_cost":110,"divine_armor":130,"reflect_damage":50,"solar_radiance":true,"damage_reduction":80,"near_invulnerability":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Honor Bound', 'Draw strength from unwavering dharma and duty', 'I will never abandon my word', NULL, NULL, 'karna', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"resolve":40,"cooldown":2,"duration":2,"mana_cost":50,"damage_boost":35,"debuff_immunity":true},{"rank":2,"resolve":65,"cooldown":3,"duration":3,"mana_cost":70,"damage_boost":55,"cannot_retreat":true,"debuff_immunity":true},{"rank":3,"resolve":95,"cooldown":3,"duration":3,"mana_cost":90,"damage_boost":80,"cannot_retreat":true,"debuff_immunity":true,"martyrdom_bonus":100}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Divine Archery', 'Perfect marksmanship inherited from the gods', 'No arrow of mine has ever missed', NULL, NULL, 'karna', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"accuracy":100,"cooldown":2,"mana_cost":70,"arrow_volley":5,"damage_per_arrow":45},{"rank":2,"accuracy":100,"cooldown":3,"mana_cost":95,"crit_chance":40,"arrow_volley":8,"damage_per_arrow":65},{"rank":3,"accuracy":100,"cooldown":3,"mana_cost":120,"pierce_all":true,"crit_chance":70,"arrow_volley":12,"damage_per_arrow":90}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Son of Surya', 'Embrace your divine heritage as son of the sun god', 'I am Karna, the undefeated warrior', NULL, NULL, 'karna', 100, 0, 1, 150, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":150,"combat_stats":55,"radiant_aura":40,"solar_empowerment":60},{"rank":2,"cooldown":3,"duration":3,"sun_heal":50,"mana_cost":165,"combat_stats":80,"radiant_aura":65,"solar_empowerment":90},{"rank":3,"cooldown":3,"duration":3,"sun_heal":80,"mana_cost":180,"combat_stats":110,"radiant_aura":95,"eclipse_power":true,"solar_empowerment":130}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Solar Flare', 'Channel the power of the sun god Surya', 'I am the son of Surya, lord of the sun', NULL, NULL, 'karna', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":55,"fire_damage":110,"blind_duration":2},{"rank":2,"cooldown":3,"duration":3,"mana_cost":75,"burn_damage":40,"fire_damage":170,"blind_duration":2},{"aoe":true,"rank":3,"cooldown":3,"duration":3,"mana_cost":95,"burn_damage":70,"fire_damage":250,"blind_duration":3}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Vasavi Shakti', 'The one-use divine spear given by Indra', 'My most powerful weapon, but I can use it only once', NULL, NULL, 'karna', 100, 0, 1, 100, 3, NULL, '[{"rank":1,"cooldown":3,"mana_cost":100,"divine_thunder":150,"guaranteed_kill":"below_50_percent","ultimate_damage":350},{"rank":2,"cooldown":3,"mana_cost":130,"divine_thunder":200,"guaranteed_kill":"below_65_percent","ultimate_damage":500},{"rank":3,"cooldown":3,"mana_cost":160,"divine_thunder":300,"chain_lightning":2,"guaranteed_kill":"below_80_percent","ultimate_damage":700}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for little_bo_peep
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Shepherd''s Crook', 'Use the magical crook to command and control', 'My crook guides the lost home', NULL, NULL, 'little_bo_peep', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":45,"control_duration":2,"enemy_becomes_sheep_ally":1},{"rank":2,"cooldown":3,"mana_cost":65,"sheep_power":30,"control_duration":3,"enemy_becomes_sheep_ally":2},{"rank":3,"cooldown":3,"mana_cost":85,"sheep_power":60,"control_duration":3,"enemy_becomes_sheep_ally":3,"permanent_transformation":25}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Wool Shield', 'Summon protective clouds of enchanted wool', 'Soft as wool, strong as steel', NULL, NULL, 'little_bo_peep', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":50,"soft_defense":40,"damage_absorption":80},{"rank":2,"cooldown":3,"duration":3,"mana_cost":70,"soft_defense":65,"damage_absorption":130,"suffocate_attackers":30},{"rank":3,"cooldown":3,"duration":3,"mana_cost":90,"all_allies":true,"soft_defense":95,"damage_absorption":200,"suffocate_attackers":60}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Pastoral Peace', 'Create a peaceful meadow that calms all conflict', 'Peace in the meadow, rest for the weary', NULL, NULL, 'little_bo_peep', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":55,"healing_aura":30,"pacify_chance":60},{"rank":2,"cooldown":3,"duration":3,"mana_cost":75,"healing_aura":50,"sleep_chance":40,"pacify_chance":80},{"rank":3,"cooldown":3,"duration":3,"mana_cost":95,"all_enemies":true,"healing_aura":80,"sleep_chance":70,"pacify_chance":100}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Nursery Rhyme Curse', 'Sing a deceptively innocent but powerful curse', 'Little Bo Peep has lost her sheep... and found your doom', NULL, NULL, 'little_bo_peep', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":70,"lost_debuff":40,"mental_damage":90,"confusion_duration":2},{"rank":2,"cooldown":3,"mana_cost":95,"lost_debuff":65,"cant_find_way":true,"mental_damage":140,"confusion_duration":3},{"aoe":"all_enemies","rank":3,"cooldown":3,"mana_cost":120,"lost_debuff":95,"cant_find_way":true,"mental_damage":210,"confusion_duration":3}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Flock Stampede', 'Command a stampede of enchanted sheep', 'Don''t underestimate my flock', NULL, NULL, 'little_bo_peep', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":60,"trampling":true,"sheep_damage":40,"summon_sheep":5},{"rank":2,"cooldown":3,"knockdown":true,"mana_cost":85,"trampling":true,"sheep_damage":65,"summon_sheep":8},{"rank":3,"cooldown":3,"knockdown":true,"mana_cost":110,"trampling":true,"unstoppable":true,"sheep_damage":95,"summon_sheep":12}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Ram''s Revenge', 'Summon a massive enchanted ram for devastating charge', 'My ram protects his flock', NULL, NULL, 'little_bo_peep', 100, 0, 1, 80, 3, NULL, '[{"rank":1,"cooldown":3,"knockback":true,"mana_cost":80,"charge_damage":180,"stun_duration":1},{"rank":2,"cooldown":3,"knockback":true,"mana_cost":105,"armor_break":50,"charge_damage":260,"stun_duration":2},{"rank":3,"cooldown":3,"knockback":true,"mana_cost":130,"armor_break":80,"chain_charges":3,"charge_damage":370,"stun_duration":3}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Queen of Sheep', 'Become the legendary shepherd queen', 'I am the shepherd, and all shall follow', NULL, NULL, 'little_bo_peep', 100, 0, 1, 150, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":150,"summon_power":60,"shepherd_aura":50,"command_all_beasts":true},{"rank":2,"cooldown":3,"duration":3,"mana_cost":165,"summon_power":90,"shepherd_aura":75,"infinite_flock":true,"command_all_beasts":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"summon_power":130,"golden_fleece":true,"shepherd_aura":105,"infinite_flock":true,"command_all_beasts":true}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for mami_wata
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Tidal Blessing', 'Mami Wata channels healing waters to restore allies', 'The waters of life flow through her touch', NULL, NULL, 'mami_wata', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"healing":80,"targets":1,"cooldown":2,"mana_cost":45},{"rank":2,"healing":140,"targets":2,"cooldown":3,"mana_cost":65},{"rank":3,"healing":200,"targets":"all_allies","cooldown":3,"mana_cost":85,"cleanse_debuffs":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Mirror Beauty', 'Entrance enemies with otherworldly beauty', 'Her reflection captivates all who gaze upon it', NULL, NULL, 'mami_wata', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":50,"charm_chance":70},{"rank":2,"cooldown":3,"duration":2,"mana_cost":70,"charm_chance":90,"attack_debuff":-30},{"aoe":true,"rank":3,"cooldown":3,"duration":3,"mana_cost":90,"charm_chance":100,"attack_debuff":-50}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Prosperity Wave', 'Grant wealth and fortune through mystical waters', 'Her blessings bring abundance to the faithful', NULL, NULL, 'mami_wata', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":55,"power_boost":30,"coin_multiplier":1.2},{"rank":2,"cooldown":3,"duration":3,"mana_cost":75,"power_boost":50,"xp_multiplier":1.3,"coin_multiplier":1.5},{"rank":3,"cooldown":3,"duration":3,"mana_cost":95,"power_boost":75,"xp_multiplier":1.5,"all_stats_boost":25,"coin_multiplier":2}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Sacred Offering', 'Accept offerings to grant powerful boons', 'Those who honor her receive her favor', NULL, NULL, 'mami_wata', 100, 0, 1, 80, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":80,"power_gain":100,"hp_sacrifice":50},{"rank":2,"cooldown":3,"duration":3,"mana_cost":105,"mana_regen":30,"power_gain":180,"hp_sacrifice":75},{"rank":3,"cooldown":3,"duration":3,"mana_cost":130,"mana_regen":50,"power_gain":300,"hp_sacrifice":100,"revive_chance":50}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Serpent Transformation', 'Transform into a powerful water serpent', 'She is both woman and serpent, beauty and terror', NULL, NULL, 'mami_wata', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":60,"attack_boost":40,"water_damage":60},{"rank":2,"cooldown":3,"duration":3,"mana_cost":85,"attack_boost":60,"water_damage":100,"defense_boost":30},{"rank":3,"cooldown":3,"duration":3,"mana_cost":110,"speed_boost":40,"attack_boost":80,"water_damage":150,"defense_boost":50}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('River Torrent', 'Summon a devastating flood to sweep away enemies', 'The rivers obey her command', NULL, NULL, 'mami_wata', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"cooldown":2,"knockback":true,"mana_cost":70,"water_damage":120},{"rank":2,"cooldown":3,"knockback":true,"mana_cost":95,"water_damage":180,"slow_duration":2},{"aoe":"all_enemies","rank":3,"cooldown":3,"knockback":true,"mana_cost":120,"water_damage":250,"slow_duration":3}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Queen of Waters', 'Become the supreme goddess of all waters', 'I am the mother of waters, the bringer of life', NULL, NULL, 'mami_wata', 100, 0, 1, 150, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"hp_regen":40,"mana_cost":150,"water_mastery":true,"all_stats_boost":50},{"rank":2,"cooldown":3,"duration":3,"hp_regen":60,"mana_cost":165,"ally_healing":50,"water_mastery":true,"all_stats_boost":75},{"rank":3,"cooldown":3,"duration":3,"hp_regen":80,"mana_cost":180,"ally_healing":100,"water_mastery":true,"all_stats_boost":100,"summon_water_spirits":true}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- No specific spells found for napoleon_bonaparte

-- Spells for quetzalcoatl
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Feathered Serpent Form', 'Transform into the legendary feathered serpent', 'I am the wind, I am the storm', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"flight":true,"cooldown":2,"duration":2,"mana_cost":60,"wind_damage":70,"attack_boost":45},{"rank":2,"flight":true,"cooldown":3,"duration":3,"mana_cost":85,"speed_boost":40,"wind_damage":120,"attack_boost":70},{"rank":3,"flight":true,"cooldown":3,"duration":3,"mana_cost":110,"speed_boost":70,"wind_damage":180,"attack_boost":100,"serpent_coils":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Temple Storm', 'Conjure a divine tempest of wind and lightning', 'The heavens obey my command', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 80, 2, NULL, '[{"rank":1,"cooldown":2,"knockback":true,"mana_cost":80,"wind_damage":90,"lightning_damage":90},{"rank":2,"cooldown":3,"knockback":true,"mana_cost":105,"stun_chance":50,"wind_damage":130,"lightning_damage":130},{"aoe":"all_enemies","rank":3,"cooldown":3,"knockback":true,"mana_cost":130,"stun_chance":80,"wind_damage":180,"lightning_damage":180}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Plumed Serpent God', 'Manifest as the supreme feathered serpent deity', 'I am Quetzalcoatl, bringer of life and knowledge', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 160, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":160,"divine_form":true,"wind_mastery":true,"all_stats_boost":60},{"rank":2,"cooldown":3,"duration":3,"mana_cost":170,"divine_form":true,"wind_mastery":true,"all_stats_boost":85,"weather_control":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"divine_form":true,"wind_mastery":true,"all_stats_boost":120,"weather_control":true,"serpent_immortality":true}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Wind Blade', 'Slash enemies with razor-sharp wind', 'The wind cuts deeper than any blade', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"slashing":true,"mana_cost":50,"wind_damage":120},{"rank":2,"bleed":40,"cooldown":3,"slashing":true,"mana_cost":70,"wind_damage":180},{"rank":3,"bleed":70,"cooldown":3,"slashing":true,"mana_cost":90,"multi_hit":3,"wind_damage":260}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Morning Star', 'Call upon Venus, the morning star, for divine power', 'I am the morning star, herald of the dawn', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":55,"blind_duration":1,"radiant_damage":100},{"rank":2,"cooldown":3,"mana_cost":75,"divine_buff":35,"blind_duration":2,"radiant_damage":160},{"aoe":true,"rank":3,"cooldown":3,"mana_cost":95,"divine_buff":60,"blind_duration":3,"radiant_damage":240}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Precious Twins', 'Summon divine twin manifestations', 'I am both creation and destruction', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"twin_hp":110,"cooldown":2,"duration":2,"mana_cost":70,"summon_twins":true},{"rank":2,"twin_hp":160,"cooldown":3,"duration":3,"mana_cost":95,"summon_twins":true,"twin_synergy":40},{"rank":3,"twin_hp":220,"cooldown":3,"duration":3,"mana_cost":120,"summon_twins":true,"twin_synergy":70,"combined_attack":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Blood Sacrifice', 'Perform an ancient Aztec ritual for immense power', 'The gods demand tribute', NULL, NULL, 'quetzalcoatl', 100, 0, 1, 90, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":90,"power_gain":180,"self_damage":80},{"rank":2,"cooldown":3,"duration":3,"mana_cost":115,"power_gain":280,"self_damage":120,"health_regen":40},{"rank":3,"cooldown":3,"duration":3,"god_form":true,"mana_cost":140,"power_gain":400,"self_damage":150,"health_regen":70}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for ramses_ii
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Mummy Wrap', 'Entangle enemies in eternal bindings', 'The bandages of death restrain the living', NULL, NULL, 'ramses_ii', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"damage":60,"cooldown":2,"mana_cost":45,"immobilize_duration":2},{"rank":2,"damage":100,"cooldown":3,"mana_cost":65,"defense_debuff":-40,"immobilize_duration":2},{"rank":3,"damage":150,"cooldown":3,"drain_hp":40,"mana_cost":85,"defense_debuff":-60,"immobilize_duration":3}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Sands of Time', 'Age enemies with the sands of eternity', 'Time buries all things', NULL, NULL, 'ramses_ii', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":55,"aging_damage":70,"slow_percent":30},{"rank":2,"cooldown":3,"duration":3,"mana_cost":75,"aging_damage":120,"slow_percent":50,"max_hp_reduction":15},{"aoe":true,"rank":3,"cooldown":3,"duration":3,"mana_cost":95,"aging_damage":180,"slow_percent":70,"max_hp_reduction":30}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Undying Will', 'Command allies to fight beyond death', 'Death is not the end for my soldiers', NULL, NULL, 'ramses_ii', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":70,"undead_boost":30,"revive_chance":60},{"rank":2,"cooldown":3,"duration":3,"mana_cost":95,"undead_boost":50,"prevent_death":1,"revive_chance":80},{"rank":3,"cooldown":3,"duration":3,"mana_cost":120,"all_allies":true,"undead_boost":75,"prevent_death":2,"revive_chance":100}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Scarab Plague', 'Release flesh-eating scarabs upon enemies', 'They devoured my enemies in life and death', NULL, NULL, 'ramses_ii', 100, 0, 1, 80, 3, NULL, '[{"rank":1,"cooldown":3,"duration":3,"mana_cost":80,"armor_break":30,"damage_per_turn":50},{"rank":2,"cooldown":3,"duration":3,"mana_cost":105,"armor_break":50,"damage_per_turn":80,"spread_to_adjacent":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":130,"armor_break":70,"fear_effect":true,"spread_to_all":true,"damage_per_turn":120}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Pharaoh''s Curse', 'Invoke the wrath of ancient Egypt upon enemies', 'I am Ozymandias, King of Kings', NULL, NULL, 'ramses_ii', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"duration":3,"mana_cost":50,"curse_damage":30,"debuff_all_stats":-20},{"rank":2,"cooldown":3,"duration":3,"mana_cost":70,"curse_damage":50,"plague_spread":true,"debuff_all_stats":-35},{"rank":3,"cooldown":3,"duration":3,"mana_cost":90,"curse_damage":80,"plague_spread":"all_enemies","debuff_all_stats":-50}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Tomb Guardians', 'Summon ancient Egyptian warriors from the underworld', 'Rise, guardians of eternity', NULL, NULL, 'ramses_ii', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"guard_hp":100,"mana_cost":60,"summon_anubis_guards":2},{"rank":2,"cooldown":3,"duration":3,"guard_hp":150,"mana_cost":85,"summon_anubis_guards":3},{"rank":3,"cooldown":3,"duration":3,"guard_hp":200,"mana_cost":110,"summon_sphinx":true,"summon_anubis_guards":4}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Eternal Pharaoh', 'Embrace immortality as the undying god-king', 'I am eternal, I am Egypt', NULL, NULL, 'ramses_ii', 100, 0, 1, 150, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":150,"undead_form":true,"all_stats_boost":50,"damage_immunity":"physical"},{"rank":2,"cooldown":3,"duration":3,"mana_cost":165,"undead_form":true,"command_dead":true,"all_stats_boost":75,"damage_immunity":"physical"},{"rank":3,"cooldown":3,"duration":3,"hp_regen":60,"mana_cost":180,"undead_form":true,"command_dead":true,"all_stats_boost":100,"damage_immunity":["physical","poison"]}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for shaka_zulu
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Ancestral Call', 'Summon the spirits of Zulu warriors past', 'The spirits of my fathers fight beside me', NULL, NULL, 'shaka_zulu', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":50,"spirit_hp":90,"summon_warrior_spirits":2},{"rank":2,"cooldown":3,"duration":3,"mana_cost":70,"spirit_hp":130,"spirit_attack_boost":30,"summon_warrior_spirits":3},{"rank":3,"cooldown":3,"duration":3,"mana_cost":90,"spirit_hp":180,"legendary_impi":true,"spirit_attack_boost":60,"summon_warrior_spirits":4}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Assegai Strike', 'Channel ancestral power into a devastating spear throw', 'The short spear revolutionized warfare', NULL, NULL, 'shaka_zulu', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"damage":130,"cooldown":2,"mana_cost":55,"armor_pierce":40},{"rank":2,"damage":190,"cooldown":3,"duration":3,"mana_cost":75,"armor_pierce":60,"bleed_damage":35},{"rank":3,"damage":270,"cooldown":3,"duration":3,"mana_cost":95,"armor_pierce":80,"bleed_damage":60,"guaranteed_crit":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Warrior Dance', 'Perform a sacred war dance to inspire troops', 'We dance before battle, we dance after victory', NULL, NULL, 'shaka_zulu', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":60,"attack_boost":30,"morale_boost":35},{"rank":2,"cooldown":3,"duration":3,"mana_cost":85,"speed_boost":25,"attack_boost":50,"morale_boost":60},{"rank":3,"cooldown":3,"duration":3,"mana_cost":110,"all_allies":true,"speed_boost":50,"attack_boost":75,"morale_boost":90,"fear_immunity":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Shields Up', 'Command perfect shield coordination', 'The shield wall is unbreakable', NULL, NULL, 'shaka_zulu', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":70,"defense_boost":60,"damage_reduction":30},{"rank":2,"cooldown":3,"duration":3,"mana_cost":95,"defense_boost":90,"reflect_damage":25,"damage_reduction":50},{"rank":3,"cooldown":3,"duration":3,"mana_cost":120,"all_allies":true,"defense_boost":130,"reflect_damage":50,"damage_reduction":70}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Bull Horn Formation', 'Deploy the legendary Zulu military tactic', 'My strategy is unmatched', NULL, NULL, 'shaka_zulu', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":45,"formation_defense":40,"counter_attack_damage":60},{"rank":2,"cooldown":3,"duration":3,"mana_cost":65,"flanking_bonus":30,"formation_defense":60,"counter_attack_damage":100},{"rank":3,"cooldown":3,"duration":3,"mana_cost":85,"all_allies":true,"flanking_bonus":60,"formation_defense":80,"counter_attack_damage":150}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Isandlwana Fury', 'Channel the fury of legendary Zulu victory', 'Remember the British fell before us', NULL, NULL, 'shaka_zulu', 100, 0, 1, 80, 3, NULL, '[{"rank":1,"damage":160,"cooldown":3,"duration":2,"mana_cost":80,"bonus_vs_ranged":80},{"rank":2,"damage":230,"cooldown":3,"duration":3,"mana_cost":105,"aoe_enemies":2,"bonus_vs_ranged":120},{"aoe":"all_enemies","rank":3,"damage":320,"cooldown":3,"duration":3,"mana_cost":130,"disarm_chance":70,"bonus_vs_ranged":180}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('King of Warriors', 'Become the legendary warrior king', 'I forged a nation through strength and strategy', NULL, NULL, 'shaka_zulu', 100, 0, 1, 150, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":150,"command_aura":40,"tactical_genius":true,"all_combat_stats":55},{"rank":2,"cooldown":3,"duration":3,"mana_cost":165,"command_aura":60,"inspire_allies":50,"tactical_genius":true,"all_combat_stats":80},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"command_aura":90,"double_summons":true,"inspire_allies":75,"tactical_genius":true,"all_combat_stats":110}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- Spells for unicorn
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Healing Horn', 'Touch allies with the magical horn to cure all ailments', 'My horn holds the power of pure life', NULL, NULL, 'unicorn', 100, 0, 1, 45, 2, NULL, '[{"rank":1,"healing":100,"cooldown":2,"mana_cost":45,"cleanse_poison":true},{"rank":2,"healing":160,"cooldown":3,"mana_cost":65,"cure_disease":true,"cleanse_all_debuffs":true},{"rank":3,"healing":240,"targets":"all_allies","cooldown":3,"mana_cost":85,"cure_disease":true,"resurrect_chance":40,"cleanse_all_debuffs":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Rainbow Aura', 'Emit a radiant rainbow aura of protection', 'The colors of hope shield the innocent', NULL, NULL, 'unicorn', 100, 0, 1, 50, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":50,"magic_shield":70,"elemental_resistance":30},{"rank":2,"cooldown":3,"duration":3,"mana_cost":70,"magic_shield":110,"reflect_magic":25,"elemental_resistance":50},{"rank":3,"cooldown":3,"duration":3,"mana_cost":90,"all_allies":true,"magic_shield":160,"reflect_magic":50,"elemental_resistance":75}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Enchanted Gallop', 'Move with supernatural speed and grace', 'None can catch a unicorn who does not wish to be caught', NULL, NULL, 'unicorn', 100, 0, 1, 55, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":55,"speed_boost":70,"evasion_boost":40},{"rank":2,"cooldown":3,"duration":3,"mana_cost":75,"speed_boost":100,"evasion_boost":65,"extra_actions":1},{"rank":3,"cooldown":3,"duration":3,"mana_cost":95,"speed_boost":140,"evasion_boost":90,"extra_actions":2,"teleport_ability":true}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Purifying Light', 'Banish darkness and evil with radiant light', 'Purity drives away corruption', NULL, NULL, 'unicorn', 100, 0, 1, 60, 2, NULL, '[{"rank":1,"cooldown":2,"mana_cost":60,"cleanse_area":true,"radiant_damage":100,"bonus_vs_undead":80},{"rank":2,"cooldown":3,"burn_evil":50,"mana_cost":85,"cleanse_area":true,"radiant_damage":160,"bonus_vs_undead":130},{"aoe":"all_enemies","rank":3,"cooldown":3,"burn_evil":90,"mana_cost":110,"cleanse_area":true,"radiant_damage":240,"bonus_vs_undead":200}]', NULL, NULL, 3, 8, 12, 16, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Forest Sanctuary', 'Create a magical grove of safety and renewal', 'The forest protects its own', NULL, NULL, 'unicorn', 100, 0, 1, 70, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":70,"heal_per_turn":30,"sanctuary_defense":60},{"rank":2,"cooldown":3,"duration":3,"mana_cost":95,"mana_regen":20,"heal_per_turn":50,"sanctuary_defense":95},{"rank":3,"cooldown":3,"duration":3,"mana_cost":120,"all_allies":true,"mana_regen":35,"heal_per_turn":80,"nature_summons":true,"sanctuary_defense":140}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Virgin Bond', 'Form a mystical connection with pure-hearted allies', 'Only the pure of heart may approach', NULL, NULL, 'unicorn', 100, 0, 1, 65, 2, NULL, '[{"rank":1,"cooldown":2,"duration":2,"mana_cost":65,"bond_strength":50,"shared_healing":true},{"rank":2,"cooldown":3,"duration":3,"mana_cost":90,"shared_buffs":true,"bond_strength":80,"shared_healing":true},{"rank":3,"cooldown":3,"duration":3,"mana_cost":115,"damage_split":50,"shared_buffs":true,"bond_strength":120,"shared_healing":true,"telepathic_link":true}]', NULL, NULL, 3, 9, 13, 17, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;
INSERT INTO spell_definitions (name, description, flavor_text, archetype, species, character_id, unlock_cost_coins, learn_time_seconds, required_level, mana_cost, cooldown_turns, charges_per_battle, effects, icon, animation, max_rank, unlock_cost, rank_up_cost, rank_up_cost_r3, tier, category) VALUES ('Mythical Ascension', 'Transcend to become the legendary creature of myth', 'I am legend, I am magic incarnate', NULL, NULL, 'unicorn', 100, 0, 1, 150, 3, NULL, '[{"rank":1,"cooldown":3,"duration":2,"mana_cost":150,"immortal_form":true,"all_stats_boost":55,"magic_amplification":70},{"rank":2,"cooldown":3,"duration":3,"mana_cost":165,"immortal_form":true,"aura_of_purity":60,"all_stats_boost":85,"magic_amplification":100},{"rank":3,"cooldown":3,"duration":3,"mana_cost":180,"immortal_form":true,"aura_of_purity":95,"all_stats_boost":120,"magic_amplification":140,"blessing_of_eternity":true}]', NULL, NULL, 3, 10, 14, 18, 'signature', NULL) ON CONFLICT (character_id, name) DO NOTHING;

-- No specific spells found for velociraptor

-- Record migration
INSERT INTO migration_log (version, name) VALUES (142, '142_restore_missing_definitions') ON CONFLICT (version) DO NOTHING;

 
 - -   R e c o r d   m i g r a t i o n 
 
 I N S E R T   I N T O   m i g r a t i o n _ l o g   ( v e r s i o n ,   n a m e )   V A L U E S   ( 1 4 2 ,   ' 1 4 2 _ r e s t o r e _ m i s s i n g _ d e f i n i t i o n s ' )   O N   C O N F L I C T   ( v e r s i o n )   D O   N O T H I N G ; 
 
 