digraph blankwars_radial {
    // Use neato engine for radial layout
    layout=neato
    
    graph [
        bgcolor=white
        overlap=false
        splines=true
    ]
    
    node [
        shape=box
        style=filled
        fontname="Arial"
        fontsize=9
        width=1.2
        height=0.5
    ]
    
    edge [
        color=gray50
        arrowsize=0.6
    ]
    
    // Central hub - users (fixed position at center)
    "users" [fillcolor="#FFD700" pos="0,0!" shape=box style="filled,bold" penwidth=3 width=1.5 height=0.7 fontsize=11]
    
    // Secondary hub - user_characters
    "user_characters" [fillcolor="#87CEEB" shape=box style="filled,bold" penwidth=2.5 width=1.4 height=0.6 fontsize=10]
    
    // Root tables
    "characters" [fillcolor="#FFB347" shape=box style="filled,bold" penwidth=2]
    "challenge_templates" [fillcolor="#FFB347" shape=box style="filled,bold" penwidth=2]
    "healing_facilities" [fillcolor="#FFB347" shape=box style="filled,bold" penwidth=2]
    "game_events" [fillcolor="#FFB347" shape=box style="filled,bold" penwidth=2]
    
    // Key hub tables
    "battles" [fillcolor="#98D8C8" shape=box style="filled,bold"]
    "active_challenges" [fillcolor="#98D8C8" shape=box style="filled,bold"]
    
    // System tables (minimize)
    "migration_log" [fillcolor="#E0E0E0" fontsize=7 width=0.8 height=0.4]
    "migration_meta" [fillcolor="#E0E0E0" fontsize=7 width=0.8 height=0.4]
    "cron_logs" [fillcolor="#E0E0E0" fontsize=7 width=0.8 height=0.4]
    "tmp_user_characters_backup" [fillcolor="#E0E0E0" fontsize=7 width=0.8 height=0.4]
    
    // Isolated by design
    "character_memories" [fillcolor="#FFB6C1"]
    
    "card_packs" [fillcolor="#FFFFFF"];
    "challenge_alliances" [fillcolor="#FFFFFF"];
    "challenge_leaderboard" [fillcolor="#FFFFFF"];
    "challenge_participants" [fillcolor="#FFFFFF"];
    "challenge_results" [fillcolor="#FFFFFF"];
    "challenge_rewards" [fillcolor="#FFFFFF"];
    "character_abilities" [fillcolor="#FFFFFF"];
    "character_experience_log" [fillcolor="#FFFFFF"];
    "character_healing_sessions" [fillcolor="#FFFFFF"];
    "character_living_context" [fillcolor="#FFFFFF"];
    "character_progression" [fillcolor="#FFFFFF"];
    "character_skills" [fillcolor="#FFFFFF"];
    "chat_messages" [fillcolor="#FFFFFF"];
    "chat_sessions" [fillcolor="#FFFFFF"];
    "claimable_pack_contents" [fillcolor="#FFFFFF"];
    "claimable_packs" [fillcolor="#FFFFFF"];
    "coach_progression" [fillcolor="#FFFFFF"];
    "coach_skills" [fillcolor="#FFFFFF"];
    "coach_xp_events" [fillcolor="#FFFFFF"];
    "events" [fillcolor="#FFFFFF"];
    "facts" [fillcolor="#FFFFFF"];
    "financial_decisions" [fillcolor="#FFFFFF"];
    "headquarters_rooms" [fillcolor="#FFFFFF"];
    "memory_entries" [fillcolor="#FFFFFF"];
    "purchases" [fillcolor="#FFFFFF"];
    "scene_triggers" [fillcolor="#FFFFFF"];
    "session_state" [fillcolor="#FFFFFF"];
    "state_digest" [fillcolor="#FFFFFF"];
    "team_context" [fillcolor="#FFFFFF"];
    "user_currency" [fillcolor="#FFFFFF"];
    "user_daily_stats" [fillcolor="#FFFFFF"];
    "user_equipment" [fillcolor="#FFFFFF"];
    "user_headquarters" [fillcolor="#FFFFFF"];
    "user_items" [fillcolor="#FFFFFF"];

    // Relationships
    "active_challenges" -> "users" [color="#FF6B6B" penwidth=2];
    "active_challenges" -> "challenge_templates" [color="#999999"];
    "battles" -> "users" [color="#FF6B6B" penwidth=2];
    "battles" -> "users" [color="#FF6B6B" penwidth=2];
    "battles" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "battles" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "battles" -> "users" [color="#FF6B6B" penwidth=2];
    "challenge_alliances" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "challenge_alliances" -> "active_challenges" [color="#999999"];
    "challenge_leaderboard" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "challenge_participants" -> "active_challenges" [color="#999999"];
    "challenge_participants" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "challenge_results" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "challenge_results" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "challenge_results" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "challenge_results" -> "challenge_templates" [color="#999999"];
    "challenge_results" -> "active_challenges" [color="#999999"];
    "challenge_rewards" -> "challenge_templates" [color="#999999"];
    "character_abilities" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "character_experience_log" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "character_healing_sessions" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "character_healing_sessions" -> "healing_facilities" [color="#999999"];
    "character_living_context" -> "characters" [color="#999999"];
    "character_memories" -> "game_events" [color="#999999"];
    "character_progression" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "character_skills" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "chat_messages" -> "battles" [color="#999999"];
    "chat_messages" -> "users" [color="#FF6B6B" penwidth=2];
    "chat_messages" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "claimable_pack_contents" -> "claimable_packs" [color="#999999"];
    "claimable_pack_contents" -> "characters" [color="#999999"];
    "claimable_packs" -> "users" [color="#FF6B6B" penwidth=2];
    "coach_progression" -> "users" [color="#FF6B6B" penwidth=2];
    "coach_skills" -> "users" [color="#FF6B6B" penwidth=2];
    "coach_xp_events" -> "battles" [color="#999999"];
    "coach_xp_events" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "coach_xp_events" -> "users" [color="#FF6B6B" penwidth=2];
    "financial_decisions" -> "user_characters" [color="#4ECDC4" penwidth=1.5];
    "headquarters_rooms" -> "user_headquarters" [color="#999999"];
    "purchases" -> "users" [color="#FF6B6B" penwidth=2];
    "team_context" -> "characters" [color="#999999"];
    "user_characters" -> "characters" [color="#333333" penwidth=1.5];
    "user_characters" -> "users" [color="#FF6B6B" penwidth=2];
    "user_currency" -> "users" [color="#FF6B6B" penwidth=2];
    "user_equipment" -> "users" [color="#FF6B6B" penwidth=2];
    "user_headquarters" -> "users" [color="#FF6B6B" penwidth=2];
    "user_items" -> "items" [color="#999999"];
    "user_items" -> "users" [color="#FF6B6B" penwidth=2];
}
